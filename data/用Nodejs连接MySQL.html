<!DOCTYPE html>
<html lang="en-US">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>ç”¨Nodejsè¿æ¥MySQL | ç²‰ä¸æ—¥å¿—</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://blog.fens.me/xmlrpc.php" />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— &raquo; Feed" href="http://blog.fens.me/feed/" />
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— &raquo; Comments Feed" href="http://blog.fens.me/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— &raquo; ç”¨Nodejsè¿æ¥MySQL Comments Feed" href="http://blog.fens.me/nodejs-mysql-intro/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.fens.me\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.4"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='default-css'  href='http://blog.fens.me/wp-content/themes/silesia/style.css' type='text/css' media='all' />
<!--[if IE 7]>
<link rel='stylesheet' id='silesia-ie7-css'  href='http://blog.fens.me/wp-content/themes/silesia/ie7.css' type='text/css' media='all' />
<![endif]-->
<!--[if IE 6]>
<link rel='stylesheet' id='silesia-ie6-css'  href='http://blog.fens.me/wp-content/themes/silesia/ie6.css' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='http://blog.fens.me/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-content/themes/silesia/js/jquery.cycle.all.min.js'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-content/themes/silesia/js/load.js'></script>
<link rel='https://api.w.org/' href='http://blog.fens.me/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.fens.me/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.fens.me/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='ngTableåŠ¨æ€æ›´æ–°çš„ä¸‰ç§æ–¹å¼' href='http://blog.fens.me/angularjs-ngtable-update/' />
<link rel='next' title='Nodejså¼‚æ­¥æµç¨‹æ§åˆ¶Async' href='http://blog.fens.me/nodejs-async/' />
<meta name="generator" content="WordPress 4.7.4" />
<link rel="canonical" href="http://blog.fens.me/nodejs-mysql-intro/" />
<link rel='shortlink' href='http://blog.fens.me/?p=2343' />
<link rel="alternate" type="application/json+oembed" href="http://blog.fens.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.fens.me%2Fnodejs-mysql-intro%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://blog.fens.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.fens.me%2Fnodejs-mysql-intro%2F&#038;format=xml" />
<meta name="template" content="silesia 1.0.6" />
<meta name="generator" content="NattyWP Framework Version 2.1.5" />
<meta name="keywords" content="nodejs,mysql,node-mysql,è¿æ¥æ± ,æ–­çº¿é‡è¿" />
<meta name="description" content="è·¨ç•Œçš„ITåšå®¢ï¼Œæ ¸å¿ƒITæŠ€æœ¯åŒ…æ‹¬ï¼šHadoop, R, RHadoop, Nodejs, AngularJS, KVM, NoSQL, ITé‡‘è" />
<link href="http://blog.fens.me/wp-content/uploads/2013/05/favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="http://blog.fens.me/wp-content/themes/silesia/functions/css/shortcodes.css" media="screen" /><script type="text/javascript" src="http://blog.fens.me/wp-content/themes/silesia/functions/js/shortcode.js"></script><style type="text/css">
	#header {
		background-color: #F7F7F7;
	}
	#main-nav, #main-nav a#control, #link-sidebar h2 {
		color: #30353A;
	}
	#header .tagline {
		color: #BBBBBB;
	}
	#main-nav {
		background-color: #527F8D;
	}
	#main-nav, #main-nav a#control, #link-sidebar h2 {
		color: #ffffff;
	}
	#link-sidebar a, #main-nav a#control:hover {
		color: #D8F1FA;
	}
	#link-sidebar ul li.widget a:hover {
		color: #ffffff;
	}
	.hentry h2, .hentry h2 a, .singlepage .post h2, .singlepage .page.comments h2 {
		color: #434343;
	}
	.p-cont .entry, .singlepage .entry {
		color: #4D4D4F;
	}
	.post a, .page.comments a {
		color: #0E73B8;
	}
	.post a:hover, .page.comments a:hover, .hentry h2 a:hover {
		color: #ff0505;
	}
	#sidebar h2 {
		color: #4D4D4F;
	}
	#sidebar {
		color: #555555;
	}
	#sidebar a {
		color: #0E73B8;
	}
	#sidebar a:hover {
		color: #ff0505;
	}
</style><style type="text/css">
    #header .triangle {border-left: 7px solid #527F8D;}
  </style><!--[if IE 6]>
    <script type="text/javascript" src="http://blog.fens.me/wp-content/themes/silesia/js/ie6/warning.js"></script>
    <script type="text/javascript" charset="utf-8">/*<![CDATA[*/window.onload=function(){e("http://blog.fens.me/wp-content/themes/silesia/js/ie6/")}/*]]>*/</script>
<![endif]-->		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
</head>

<body class="post-template-default single single-post postid-2343 single-format-standard custom-background">
<div id="main-nav">
  <div id="link-sidebar">
    <ul>
                      <li class="widget png_scale" id="widget_categories">
          <h2 class="blocktitle"><span>Categories</span></h2>	
          <ul>
              	<li class="cat-item cat-item-9"><a href="http://blog.fens.me/category/datagurucn/" >Dataguruä½œä¸š</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://blog.fens.me/category/hadoop-action/" >Hadoopå®è·µ</a>
</li>
	<li class="cat-item cat-item-65"><a href="http://blog.fens.me/category/it%e7%9b%b8%e5%85%b3%e7%9f%a5%e8%af%86/" >ITç›¸å…³çŸ¥è¯†</a>
</li>
	<li class="cat-item cat-item-55"><a href="http://blog.fens.me/category/javascript%e8%af%ad%e8%a8%80%e5%ae%9e%e8%b7%b5/" >Javascriptè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://blog.fens.me/category/java-lang/" >JAVAè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://blog.fens.me/category/r-lang/" >Rè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-217"><a href="http://blog.fens.me/category/seo%e4%bc%98%e5%8c%96/" >SEOä¼˜åŒ–</a>
</li>
	<li class="cat-item cat-item-356"><a href="http://blog.fens.me/category/%e5%85%b6%e4%bb%96%e8%af%ad%e8%a8%80/" >å…¶ä»–è¯­è¨€</a>
</li>
	<li class="cat-item cat-item-774"><a href="http://blog.fens.me/category/%e5%88%9b%e4%b8%9a/" >åˆ›ä¸š</a>
</li>
	<li class="cat-item cat-item-233"><a href="http://blog.fens.me/category/%e5%8f%af%e8%a7%86%e5%8c%96%e6%8a%80%e6%9c%af/" >å¯è§†åŒ–æŠ€æœ¯</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://blog.fens.me/category/%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f/" >æ“ä½œç³»ç»Ÿ</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://blog.fens.me/category/%e6%95%b0%e6%8d%ae%e5%ba%93/" >æ•°æ®åº“</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://blog.fens.me/category/%e6%95%b0%e6%8d%ae%e6%8c%96%e6%8e%98/" >æ•°æ®æŒ–æ˜</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://blog.fens.me/category/%e6%99%92%e7%b2%89%e4%b8%9d/" >æ™’ç²‰ä¸</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://blog.fens.me/category/%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1/" >æ¶æ„è®¾è®¡</a>
</li>
	<li class="cat-item cat-item-113"><a href="http://blog.fens.me/category/%e6%b4%bb%e5%8a%a8%e8%81%9a%e4%bc%9a/" >æ´»åŠ¨èšä¼š</a>
</li>
	<li class="cat-item cat-item-598"><a href="http://blog.fens.me/category/%e6%b8%b8%e6%88%8f/" >æ¸¸æˆ</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://blog.fens.me/category/%e7%a8%8b%e5%ba%8f%e7%ae%97%e6%b3%95/" >ç¨‹åºç®—æ³•</a>
</li>
	<li class="cat-item cat-item-117"><a href="http://blog.fens.me/category/%e7%bd%91%e7%bb%9c%e6%8a%80%e6%9c%af/" >ç½‘ç»œæŠ€æœ¯</a>
</li>
	<li class="cat-item cat-item-76"><a href="http://blog.fens.me/category/%e8%99%9a%e6%8b%9f%e5%8c%96%e5%ae%9e%e8%b7%b5/" >è™šæ‹ŸåŒ–å®è·µ</a>
</li>
	<li class="cat-item cat-item-184"><a href="http://blog.fens.me/category/%e9%87%91%e8%9e%8d/" >é‡‘è</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://blog.fens.me/category/%e9%9d%a2%e8%af%95/" >é¢è¯•</a>
</li>
	<li class="cat-item cat-item-44"><a href="http://blog.fens.me/category/%e9%bb%91%e5%ae%a2%e6%94%bb%e9%98%b2/" >é»‘å®¢æ”»é˜²</a>
</li>
          </ul>		
        </li>
                <li id="twitterWidget" class="widget png_scale">	
          <div id="twitter">
            <h2 class="blocktitle"><span>Twitter Updates</span></h2>		<ul id="twitter_update_list"><li></li></ul>
            <!--<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>-->
            <!--<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/nattywp.json?callback=twitterCallback2&amp;count=1"></script>-->
            <div class="dasheddivider"></div>
            <p align="right"><a href="http://www.twitter.com/nattywp/" class="rightlink png_crop">Follow us on Twitter</a></p>
        </div>
        </li>   
           
    </ul>
  </div>
  <a id="control" href="#">+</a>
</div>

<div id="main-wrapper">
<div id="header">
  <div class="wrapper">
    <div class="triangle"></div>
    <div class="logo-block">
    <div class="logo">
    <ul><li><a class="logo-title shadowed" href="http://blog.fens.me" rel="home" title="ç²‰ä¸æ—¥å¿—">ç²‰ä¸æ—¥å¿—</a></li></ul> 
    </div>
  <div class="tagline">è·¨ç•Œçš„ITåšå®¢|Hadoopå®¶æ—, R, RHadoop, Nodejs, AngularJS, NoSQL, ITé‡‘è</div></div>
  
    <div class="clear"></div>
  </div>
</div>

<div id="cnt" class="wrapper">
  <div class="top">
    <ul id="crumbs"><li class="first"><a href="http://blog.fens.me" id="home-img"></a></li><li><a href="http://blog.fens.me/category/javascript%e8%af%ad%e8%a8%80%e5%ae%9e%e8%b7%b5/">Javascriptè¯­è¨€å®è·µ</a> &raquo; </li><li>ç”¨Nodejsè¿æ¥MySQL</li></ul><div style="float:right;margin-right:10px;font-size:14px;"><ul style="list-style-type: none;"><li style="list-style-type: none;float: left;line-height: 24px;margin: 0 7px;"><a href="http://www.fens.me/" target="_blank">@æ™’ç²‰ä¸</a></li><li style="list-style-type: none;float: left;line-height: 24px;margin: 0 7px;"><a href="http://apps.weibo.com/chinaweatherapp" target="_blank">@æ¯æ—¥ä¸­å›½å¤©æ°”</a></li></ul></div>    <div class="clear"></div>            
  </div> <!-- END top -->


<!-- END Header --><div class="narrowcolumn singlepage">
              <div class="post-2343 post type-post status-publish format-standard hentry category-javascript category-29 tag-mysql tag-node-mysql tag-nodejs tag-283 tag-282">
         <div class="post-meta">
          <a href="http://blog.fens.me/nodejs-mysql-intro/" title="ç”¨Nodejsè¿æ¥MySQL" class="ms"></a>
          <h5>Posted:</h5>
          <span class="date">Sep 11, 2013</span>
          <h5>Tags:</h5><div class="tags"><a href="http://blog.fens.me/tag/mysql/" rel="tag">MySQL</a><a href="http://blog.fens.me/tag/node-mysql/" rel="tag">node-mysql</a><a href="http://blog.fens.me/tag/nodejs/" rel="tag">nodejs</a><a href="http://blog.fens.me/tag/%e6%96%ad%e7%ba%bf%e9%87%8d%e8%bf%9e/" rel="tag">æ–­çº¿é‡è¿</a><a href="http://blog.fens.me/tag/%e8%bf%9e%e6%8e%a5%e6%b1%a0/" rel="tag">è¿æ¥æ± </a></div>          <h5>Comments:</h5>
          <span class="comment"><a href="http://blog.fens.me/nodejs-mysql-intro/#comments"><span class="dsq-postid" data-dsqidentifier="2343 http://blog.fens.me/?p=2343">66 Comments</span></a></span>
                   </div>
         
         <div class="p-cont">
            <h2>ç”¨Nodejsè¿æ¥MySQL</h2>
            <div class="entry">
                            <p><a title="ä»é›¶å¼€å§‹nodejsç³»åˆ—æ–‡ç« " href="http://blog.fens.me/series-nodejs/" target="_blank">ä»é›¶å¼€å§‹nodejsç³»åˆ—æ–‡ç« </a>ï¼Œå°†ä»‹ç»å¦‚ä½•åˆ©Javascriptåšä¸ºæœåŠ¡ç«¯è„šæœ¬ï¼Œé€šè¿‡Nodejsæ¡†æ¶webå¼€å‘ã€‚Nodejsæ¡†æ¶æ˜¯åŸºäºV8çš„å¼•æ“ï¼Œæ˜¯ç›®å‰é€Ÿåº¦æœ€å¿«çš„Javascriptå¼•æ“ã€‚chromeæµè§ˆå™¨å°±åŸºäºV8ï¼ŒåŒæ—¶æ‰“å¼€20-30ä¸ªç½‘é¡µéƒ½å¾ˆæµç•…ã€‚Nodejsæ ‡å‡†çš„webå¼€å‘æ¡†æ¶Expressï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿…é€Ÿå»ºç«‹webç«™ç‚¹ï¼Œæ¯”èµ·PHPçš„å¼€å‘æ•ˆç‡æ›´é«˜ï¼Œè€Œä¸”å­¦ä¹ æ›²çº¿æ›´ä½ã€‚éå¸¸é€‚åˆå°å‹ç½‘ç«™ï¼Œä¸ªæ€§åŒ–ç½‘ç«™ï¼Œæˆ‘ä»¬è‡ªå·±çš„Geekç½‘ç«™ï¼ï¼</p>
<p><strong>å…³äºä½œè€…</strong></p>
<ul>
<li>å¼ ä¸¹(Conan), ç¨‹åºå‘˜Java,R,PHP,Javascript</li>
<li>weiboï¼š@Conan_Z</li>
<li>blog:Â <a title="ç²‰ä¸æ—¥å¿—|è·¨ç•Œçš„ITåšå®¢" href="http://blog.fens.me/" target="_blank">http://blog.fens.me</a></li>
<li>email: bsspirit@gmail.com</li>
</ul>
<p><strong>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š</strong><br />
<a title="ç”¨Nodejsè¿æ¥MySQL" href="http://blog.fens.me/nodejs-mysql-intro/" target="_blank">http://blog.fens.me/nodejs-mysql-intro/</a></p>
<p><a href="http://blog.fens.me/wp-content/uploads/2013/09/nodejs-mysql.png"><img src="http://blog.fens.me/wp-content/uploads/2013/09/nodejs-mysql.png" alt="nodejs-mysql" width="600" height="400" class="alignnone size-full wp-image-2369" /></a></p>
<p><strong>å‰è¨€</strong></p>
<p>MySQLæ˜¯ä¸€æ¬¾å¸¸ç”¨çš„å¼€æºæ•°æ®åº“äº§å“ï¼Œé€šå¸¸ä¹Ÿæ˜¯å…è´¹æ•°æ®åº“çš„é¦–é€‰ã€‚æŸ¥äº†ä¸€ä¸‹NPMåˆ—è¡¨ï¼Œå‘ç°Nodejsæœ‰13åº“å¯ä»¥è®¿é—®MySQLï¼Œfelixge/node-mysqlä¼¼ä¹æ˜¯æœ€å—å…³æ³¨é¡¹ç›®ï¼Œæˆ‘ä¹Ÿå†³å®šå°è¯•ç”¨ä¸€ä¸‹ã€‚</p>
<p>è¦æ³¨æ„åå­—ï¼Œ&#8221;felixge/node-mysql&#8221;é&#8221;node-mysql&#8221;ï¼Œå®‰è£…éƒ¨åˆ†ä¼šä»‹ç»è¿™ä¸ªå°æ’æ›²ï¼</p>
<p><strong>ç›®å½•</strong></p>
<ol>
<li>node-mysqlä»‹ç»</li>
<li>å»ºç«‹MySQLæµ‹è¯•åº“</li>
<li>node-mysqlå®‰è£…</li>
<li>node-mysqlä½¿ç”¨</li>
</ol>
<h2>1. node-mysqlä»‹ç»</h2>
<p>felixge/node-mysqlæ˜¯ä¸€ä¸ªçº¯nodejsçš„ç”¨javascriptå®ç°çš„ä¸€ä¸ªMySQLå®¢æˆ·ç«¯ç¨‹åºã€‚felixge/node-mysqlå°è£…äº†Nodejså¯¹MySQLçš„åŸºæœ¬æ“ä½œï¼Œ100% MITå…¬å…±è®¸å¯è¯ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼šhttps://github.com/felixge/node-mysql</p>
<h2>2. å»ºç«‹MySQLæµ‹è¯•åº“</h2>
<p>æœ¬åœ°åˆ›å»ºMySQLæµ‹è¯•åº“ï¼šnodejs</p>
<pre><code>
~ mysql -uroot -p
mysql&gt; CREATE DATABASE nodejs;
mysql&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| nodejs             |
| performance_schema |
+--------------------+
4 rows in set (0.00 sec)

mysql&gt; GRANT ALL ON nodejs.* to nodejs@'%' IDENTIFIED BY 'nodejs';
mysql&gt; GRANT ALL ON nodejs.* to nodejs@localhost IDENTIFIED BY 'nodejs';
</code></pre>
<p>é‡æ–°ç™»é™†MySQL</p>
<pre><code>
C:\Users\Administrator&gt;mysql -unodejs -p
Enter password: ******

mysql&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| nodejs             |
| test               |
+--------------------+
3 rows in set (0.00 sec)

mysql&gt; USE nodejs
Database changed
</code></pre>
<p>æ–°å»ºä¸€ä¸ªuserè¡¨</p>
<pre><code>
CREATE TABLE t_user(
id INT PRIMARY KEY AUTO_INCREMENT,
name VARCHAR(16) NOT NULL ,
create_date TIMESTAMP NULL DEFAULT now()
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE UNIQUE INDEX t_quiz_IDX_0 on t_user(name);

mysql&gt; SHOW TABLES;
+------------------+
| Tables_in_nodejs |
+------------------+
| t_user           |
+------------------+
1 row in set (0.04 sec)
</code></pre>
<h2>3. node-mysqlå®‰è£…</h2>
<p><strong>æˆ‘çš„ç³»ç»Ÿç¯å¢ƒ</strong></p>
<ul>
<li>win7 64bit</li>
<li>Nodejs:v0.10.5</li>
<li>Npm:1.2.19</li>
<li>MySQL:Server version: 5.6.11 MySQL Community Server (GPL)</li>
</ul>
<p><strong>åˆ›å»ºå·¥ç¨‹:nodejs-node-mysql</strong></p>
<pre><code>~ D:\workspace\javascript&gt;mkdir nodejs-node-mysql
~ D:\workspace\javascript&gt;cd nodejs-node-mysql
~ D:\workspace\javascript\nodejs-node-mysql&gt;npm install node-mysql
node-mysql@0.2.0 node_modules\node-mysql
â”œâ”€â”€ better-js-class@0.1.2
â”œâ”€â”€ cps@0.1.7
â”œâ”€â”€ underscore@1.5.2
â””â”€â”€ mysql@2.0.0-alpha9 (require-all@0.0.3, bignumber.js@1.0.1)
</code></pre>
<p><strong>è¿™é‡Œæœ‰ä¸€ä¸ªå°æ’æ›²</strong></p>
<p>å®‰è£…â€œnode-mysqlâ€åï¼Œæ‰“å¼€package.jsonæ–‡ä»¶å‘ç°ï¼Œè¿™ä¸ªé¡¹ç›®åœ°å€æ˜¯</p>
<pre><code>https://github.com/redblaze/node-mysql.git</code></pre>
<p>ä»ä¾èµ–å…³ç³»å¯ä»¥çœ‹åˆ°ï¼Œå®ƒä¾èµ–äºmysqlåº“ï¼Œæ˜¯å¯¹felixge/node-mysqlçš„å°è£…ã€‚</p>
<p><a href="http://blog.fens.me/wp-content/uploads/2013/09/node-mysql1.png"><img class="alignnone size-full wp-image-2350" alt="node-mysql1" src="http://blog.fens.me/wp-content/uploads/2013/09/node-mysql1.png" width="999" height="213" /></a></p>
<p>ç”±äºè¿™ä¸ªé¡¹ç›®staræ˜¯0ï¼Œforkä¹Ÿæ˜¯0. æ‰€ä»¥ï¼Œæˆ‘ä¹Ÿä¸å‡†å¤‡èŠ±æ—¶é—´æµ‹è¯•äº†ï¼Œé‡æ–°å®‰è£…felixge/node-mysqlçš„åŒ…ã€‚</p>
<p><strong>é‡æ–°å®‰è£…node-mysql</strong></p>
<pre><code>~ D:\workspace\javascript\nodejs-node-mysql&gt;rm -rf node_modules
~ D:\workspace\javascript\nodejs-node-mysql&gt;npm install mysql@2.0.0-alpha9
npm http GET https://registry.npmjs.org/mysql/2.0.0-alpha9
npm http 200 https://registry.npmjs.org/mysql/2.0.0-alpha9
npm http GET https://registry.npmjs.org/mysql/-/mysql-2.0.0-alpha9.tgz
npm http 200 https://registry.npmjs.org/mysql/-/mysql-2.0.0-alpha9.tgz
npm http GET https://registry.npmjs.org/require-all/0.0.3
npm http GET https://registry.npmjs.org/bignumber.js/1.0.1
npm http 304 https://registry.npmjs.org/require-all/0.0.3
npm http 304 https://registry.npmjs.org/bignumber.js/1.0.1
mysql@2.0.0-alpha9 node_modules\mysql
â”œâ”€â”€ require-all@0.0.3
â””â”€â”€ bignumber.js@1.0.1
</code></pre>
<p>è¿™å›å°±å¯¹äº†ï¼Œç»§ç»­ä¸‹é¢çš„å¼€å‘ï¼</p>
<p>åˆ›å»ºnodeç¨‹åºå¯åŠ¨æ–‡ä»¶ï¼šapp.js</p>
<p><strong>ç¬¬ä¸€ä¸ªæµ‹è¯•</strong></p>
<pre><code>~ vi app.js

var mysql = require('mysql');
var conn = mysql.createConnection({
    host: 'localhost',
    user: 'nodejs',
    password: 'nodejs',
    database:'nodejs',
    port: 3306
});
conn.connect();
conn.query('SELECT 1 + 1 AS solution', function(err, rows, fields) {
    if (err) throw err;
    console.log('The solution is: ', rows[0].solution);
});
conn.end();
</code></pre>
<p><strong>è¿è¡Œnode</strong></p>
<pre><code>~ D:\workspace\javascript\nodejs-node-mysql&gt;node app.js
The solution is:  2
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±è®©Nodejsè¿æ¥ä¸Šäº†MySQLã€‚</p>
<h2>4. node-mysqlä½¿ç”¨</h2>
<p>ä¸‹é¢æˆ‘ä»¬è¦å¯¹node-mysqlçš„APIè¿›è¡Œå¸¸ç”¨çš„æµ‹è¯•ã€‚</p>
<ul>
<li>è¡¨æ–°åˆ æ”¹æŸ¥</li>
<li><span style="font-size: 13px; line-height: 19px;">è¿æ¥æ± é…ç½®</span></li>
<li>MySQLæ–­çº¿é‡è¿</li>
<li>è¿æ¥æ± è¶…æ—¶æµ‹è¯•</li>
</ul>
<p><strong>1). è¡¨æ–°åˆ æ”¹æŸ¥</strong><br />
ä¿®æ”¹app.js</p>
<pre><code>
~ vi app.js

var mysql = require('mysql');
var conn = mysql.createConnection({
    host: 'localhost',
    user: 'nodejs',
    password: 'nodejs',
    database: 'nodejs',
    port: 3306
});
conn.connect();

var insertSQL = 'insert into t_user(name) values("conan"),("fens.me")';
var selectSQL = 'select * from t_user limit 10';
var deleteSQL = 'delete from t_user';
var updateSQL = 'update t_user set name="conan update"  where name="conan"';

//delete
conn.query(deleteSQL, function (err0, res0) {
    if (err0) console.log(err0);
    console.log("DELETE Return ==&gt; ");
    console.log(res0);

    //insert
    conn.query(insertSQL, function (err1, res1) {
        if (err1) console.log(err1);
        console.log("INSERT Return ==&gt; ");
        console.log(res1);

        //query
        conn.query(selectSQL, function (err2, rows) {
            if (err2) console.log(err2);

            console.log("SELECT ==&gt; ");
            for (var i in rows) {
                console.log(rows[i]);
            }

            //update
            conn.query(updateSQL, function (err3, res3) {
                if (err3) console.log(err3);
                console.log("UPDATE Return ==&gt; ");
                console.log(res3);

                //query
                conn.query(selectSQL, function (err4, rows2) {
                    if (err4) console.log(err4);

                    console.log("SELECT ==&gt; ");
                    for (var i in rows2) {
                        console.log(rows2[i]);
                    }
                });
            });
        });
    });
});

//conn.end();
</code></pre>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<pre><code>D:\workspace\javascript\nodejs-node-mysql&gt;node app.js
DELETE Return ==&gt;
{ fieldCount: 0,
  affectedRows: 2,
  insertId: 0,
  serverStatus: 34,
  warningCount: 0,
  message: '',
  protocol41: true,
  changedRows: 0 }
INSERT Return ==&gt;
{ fieldCount: 0,
  affectedRows: 2,
  insertId: 33,
  serverStatus: 2,
  warningCount: 0,
  message: '&amp;Records: 2  Duplicates: 0  Warnings: 0',
  protocol41: true,
  changedRows: 0 }
SELECT ==&gt;
{ id: 33,
  name: 'conan',
  create_date: Wed Sep 11 2013 12:09:15 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) }
{ id: 34,
  name: 'fens.me',
  create_date: Wed Sep 11 2013 12:09:15 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) }
UPDATE Return ==&gt;
{ fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  serverStatus: 2,
  warningCount: 0,
  message: '(Rows matched: 1  Changed: 1  Warnings: 0',
  protocol41: true,
  changedRows: 1 }
SELECT ==&gt;
{ id: 33,
  name: 'conan update',
  create_date: Wed Sep 11 2013 12:09:15 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) }
{ id: 34,
  name: 'fens.me',
  create_date: Wed Sep 11 2013 12:09:15 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) }
</code></pre>
<p>ç”±äºnodeçš„å¼‚æ­¥çš„ï¼Œä¸Šé¢æ˜¯ä¸€ä¸ªè¿ç»­çš„æ“ä½œï¼Œä»£ç ä¼šè¢«å†™çš„æ”¯ç¦»ç ´ç¢ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡asyncåº“å¯¹ä¸Šé¢ä»£ç è¿›è¡Œå°è£…ï¼Œè¯·å‚è€ƒæ–‡ç« ï¼š<a title="Nodejså¼‚æ­¥æµç¨‹æ§åˆ¶Async" href="http://blog.fens.me/nodejs-async/" target="_blank">Nodejså¼‚æ­¥æµç¨‹æ§åˆ¶Async</a></p>
<p><strong>2). è¿æ¥æ± é…ç½®</strong></p>
<p>å¢åŠ æ–‡ä»¶ï¼šapp-pooling.js</p>
<pre><code>~ vi app-pooling.js

var mysql = require('mysql');
var pool = mysql.createPool({
    host: 'localhost',
    user: 'nodejs',
    password: 'nodejs',
    database: 'nodejs',
    port: 3306
});

var selectSQL = 'select * from t_user limit 10';

pool.getConnection(function (err, conn) {
    if (err) console.log("POOL ==&gt; " + err);

    conn.query(selectSQL,function(err,rows){
        if (err) console.log(err);
        console.log("SELECT ==&gt; ");
        for (var i in rows) {
            console.log(rows[i]);
        }
        conn.release();
    });
});
</code></pre>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<pre><code>D:\workspace\javascript\nodejs-node-mysql&gt;node app-pooling.js
SELECT ==&gt;
{ id: 39,
  name: 'conan update',
  create_date: Wed Sep 11 2013 13:41:18 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) }
{ id: 40,
  name: 'fens.me',
  create_date: Wed Sep 11 2013 13:41:18 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) }
</code></pre>
<p><strong>3). MySQLæ–­çº¿é‡è¿</strong></p>
<p>åˆ†åˆ«æ¨¡æ‹Ÿ3ç§é”™è¯¯</p>
<ul>
<li>ç™»é™†å¯†ç é”™è¯¯</li>
<li>æ•°æ®åº“å®•æœº</li>
<li>æ•°æ®åº“è¿æ¥è¶…æ—¶</li>
</ul>
<p><strong>æ–°å¢æ–‡ä»¶ï¼šapp-reconnect.js</strong></p>
<pre><code>~ vi app-reconnect.js

var mysql = require('mysql');
var conn;
function handleError () {
    conn = mysql.createConnection({
        host: 'localhost',
        user: 'nodejs',
        password: 'nodejs',
        database: 'nodejs',
        port: 3306
    });

    //è¿æ¥é”™è¯¯ï¼Œ2ç§’é‡è¯•
    conn.connect(function (err) {
        if (err) {
            console.log('error when connecting to db:', err);
            setTimeout(handleError , 2000);
        }
    });

    conn.on('error', function (err) {
        console.log('db error', err);
        // å¦‚æœæ˜¯è¿æ¥æ–­å¼€ï¼Œè‡ªåŠ¨é‡æ–°è¿æ¥
        if (err.code === 'PROTOCOL_CONNECTION_LOST') {
            handleError();
        } else {
            throw err;
        }
    });
}
handleError();
</code></pre>
<p><strong>a. æ¨¡æ‹Ÿå¯†ç é”™è¯¯</strong></p>
<p>ä¿®æ”¹password: &#8216;nodejs11&#8217;</p>
<p>æ§åˆ¶å°è¾“å‡ºã€‚</p>
<pre><code>D:\workspace\javascript\nodejs-node-mysql&gt;node app-reconnect.js
error when connecting to db: { [Error: ER_ACCESS_DENIED_ERROR: Access denied for user 'nodejs'@'localhost' (using pass
rd: YES)]
  code: 'ER_ACCESS_DENIED_ERROR',
  errno: 1045,
  sqlState: '28000',
  fatal: true }
error when connecting to db: { [Error: ER_ACCESS_DENIED_ERROR: Access denied for user 'nodejs'@'localhost' (using pass
rd: YES)]
  code: 'ER_ACCESS_DENIED_ERROR',
  errno: 1045,
  sqlState: '28000',
  fatal: true }
</code></pre>
<p><strong>b. æ¨¡æ‹Ÿæ•°æ®åº“å®•æœº</strong><br />
æ­£å¸¸å¯åŠ¨nodeï¼Œç„¶åæ€æ‰mysqldçš„è¿›ç¨‹ã€‚</p>
<p>æ§åˆ¶å°è¾“å‡ºã€‚</p>
<pre><code>
D:\workspace\javascript\nodejs-node-mysql&gt;node app-reconnect.js
db error { [Error: read ECONNRESET]
  code: 'ECONNRESET',
  errno: 'ECONNRESET',
  syscall: 'read',
  fatal: true }

Error: read ECONNRESET
    at errnoException (net.js:884:11)
    at TCP.onread (net.js:539:19)
</code></pre>
<p>è¿™ä¸ªå¼‚å¸¸ï¼Œç›´æ¥å¯¼è‡´nodeç¨‹åºè¢«æ€æ­»ï¼</p>
<p><strong>c. æ¨¡æ‹Ÿè¿æ¥è¶…æ—¶ï¼ŒPROTOCOL_CONNECTION_LOST</strong><br />
åˆ‡æ¢åˆ°rootè´¦æˆ·, ä¿®æ”¹MySQLçš„wait_timeoutå‚æ•°ï¼Œè®¾ç½®ä¸º10æ¯«ç§’è¶…æ—¶ã€‚</p>
<pre><code>~ mysql -uroot -p
mysql&gt; show variables like 'wait_timeout';
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| wait_timeout  | 28800 |
+---------------+-------+
1 row in set (0.00 sec)

mysql&gt; set global wait_timeout=10;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; show variables like 'wait_timeout';
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| wait_timeout  | 10    |
+---------------+-------+
1 row in set (0.00 sec)
</code></pre>
<p>ä¿®æ”¹æ–‡ä»¶ï¼šapp-reconnection.jsï¼Œåœ¨æœ€åå¢åŠ ä»£ç </p>
<pre><code>~ vi app-reconnection.js

function query(){
    console.log(new Date());
    var sql = "show variables like 'wait_timeout'";
    conn.query(sql, function (err, res) {
        console.log(res);
    });
}

query();
setInterval(query, 15*1000);
</code></pre>
<p>ç¨‹åºä¼šæ¯è15ç§’ï¼Œåšä¸€æ¬¡æŸ¥è¯¢ã€‚</p>
<p>æ§åˆ¶å°è¾“å‡º</p>
<pre><code>D:\workspace\javascript\nodejs-node-mysql&gt;node app-reconnect.js
Wed Sep 11 2013 15:21:14 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
[ { Variable_name: 'wait_timeout', Value: '10' } ]
db error { [Error: Connection lost: The server closed the connection.] fatal: true, code: 'PROTOCOL_CONNECTION_LOST' }
Wed Sep 11 2013 15:21:28 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
[ { Variable_name: 'wait_timeout', Value: '10' } ]
db error { [Error: Connection lost: The server closed the connection.] fatal: true, code: 'PROTOCOL_CONNECTION_LOST' }
Wed Sep 11 2013 15:21:43 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
[ { Variable_name: 'wait_timeout', Value: '10' } ]
</code></pre>
<p>æˆ‘ä»¬è‡ªå·±çš„ç¨‹åºæ•è·äº†â€œPROTOCOL_CONNECTION_LOSTâ€å¼‚å¸¸ï¼Œå¹¶è‡ªåŠ¨çš„å®ç°äº†æ•°æ®åº“é‡è¿ã€‚</p>
<p><strong>4). MySQLè¿æ¥æ± çš„è¶…æ—¶æµ‹è¯•</strong></p>
<p>é’ˆå¯¹wait_timeouté—®é¢˜ï¼Œæˆ‘ä»¬å†å¯¹è¿æ¥åšä¸€ä¸‹æµ‹è¯•ã€‚</p>
<p>ä¿®æ”¹app-pooling.jsæ–‡ä»¶</p>
<pre><code>
var mysql = require('mysql');
var pool = mysql.createPool({
    host: 'localhost',
    user: 'nodejs',
    password: 'nodejs',
    database: 'nodejs',
    port: 3306
});

var selectSQL ="show variables like 'wait_timeout'";

pool.getConnection(function (err, conn) {
    if (err) console.log("POOL ==&gt; " + err);

    function query(){
        conn.query(selectSQL, function (err, res) {
            console.log(new Date());
            console.log(res);
            conn.release();
        });
    }
    query();
    setInterval(query, 5000);
});
</code></pre>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<pre><code>D:\workspace\javascript\nodejs-node-mysql&gt;node app-pooling.js
Wed Sep 11 2013 15:32:25 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
[ { Variable_name: 'wait_timeout', Value: '10' } ]
Wed Sep 11 2013 15:32:30 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
[ { Variable_name: 'wait_timeout', Value: '10' } ]
Wed Sep 11 2013 15:32:35 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
[ { Variable_name: 'wait_timeout', Value: '10' } ]
</code></pre>
<p>è¿æ¥æ± ï¼Œå·²ç»è§£å†³äº†è‡ªåŠ¨é‡è¿çš„é—®é¢˜äº†ï¼Œåé¢æˆ‘ä»¬çš„å¼€å‘ï¼Œå¯ä»¥å°½é‡ä½¿ç”¨poolingçš„æ–¹å¼ã€‚</p>
<p><strong>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š</strong><br />
<a title="ç”¨Nodejsè¿æ¥MySQL" href="http://blog.fens.me/nodejs-mysql-intro/" target="_blank">http://blog.fens.me/nodejs-mysql-intro/</a></p>
<p><img src="http://blog.fens.me/wp-content/uploads/2016/04/pay50.png" alt="æ‰“èµä½œè€…" width="600" height="400" class="alignnone size-full wp-image-8388"></p>
              <div class="clear"></div>
                            <p class="inner-meta">This entry was posted in <a href="http://blog.fens.me/category/javascript%e8%af%ad%e8%a8%80%e5%ae%9e%e8%b7%b5/" rel="category tag">Javascriptè¯­è¨€å®è·µ</a>, <a href="http://blog.fens.me/category/%e6%95%b0%e6%8d%ae%e5%ba%93/" rel="category tag">æ•°æ®åº“</a></p>              
            </div>
            <!-- å¹¿å‘Š -->
            <div id="ads"></div>        
            <div class="post comments" id="comments">              
                
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="post pingback">
        <p>Pingback: <a href='http://blog.fens.me/nodejs-async/' rel='external nofollow' class='url'>Nodejså¼‚æ­¥æµç¨‹æ§åˆ¶Async | ç²‰ä¸æ—¥å¿—</a>()</p>
    </li>
    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-585">
        <div id="dsq-comment-header-585" class="dsq-comment-header">
            <cite id="dsq-cite-585">
                <span id="dsq-author-user-585">skyâ„¢</span>
            </cite>
        </div>
        <div id="dsq-comment-body-585" class="dsq-comment-body">
            <div id="dsq-comment-message-585" class="dsq-comment-message"><p>å¾ˆnice</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-586">
        <div id="dsq-comment-header-586" class="dsq-comment-header">
            <cite id="dsq-cite-586">
                <a id="dsq-author-user-586" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-586" class="dsq-comment-body">
            <div id="dsq-comment-message-586" class="dsq-comment-message"><p>è¿‡å¥–</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-1015">
        <div id="dsq-comment-header-1015" class="dsq-comment-header">
            <cite id="dsq-cite-1015">
                <span id="dsq-author-user-1015">Bunm Jyo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1015" class="dsq-comment-body">
            <div id="dsq-comment-message-1015" class="dsq-comment-message"><p>æˆ‘çš„ubuntu xamppé›†æˆç¯å¢ƒ å‘½ä»¤è¡Œä¸‹è¿æ¥mysqlç™»å½•æ“ä½œéƒ½æ­£å¸¸ï¼Œå¯æ˜¯nodejsé‡Œé¢æ‰§è¡Œconnect()æ–¹æ³•å°±æ˜¯æŠ¥1045 28000çš„é”™è¯¯ï¼Œæ±‚è§£</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1016">
        <div id="dsq-comment-header-1016" class="dsq-comment-header">
            <cite id="dsq-cite-1016">
                <a id="dsq-author-user-1016" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1016" class="dsq-comment-body">
            <div id="dsq-comment-message-1016" class="dsq-comment-message"><p>ä¼¼ä¹æ˜¯æƒé™çš„é—®é¢˜ã€‚ä½ æŠŠå¯¹åº”è´¦å·çš„æƒé™ï¼Œå…è®¸è¿œç¨‹è®¿é—®ï¼Œå†è¯•ä¸€ä¸‹ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-1017">
        <div id="dsq-comment-header-1017" class="dsq-comment-header">
            <cite id="dsq-cite-1017">
                <span id="dsq-author-user-1017">Bunm Jyo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1017" class="dsq-comment-body">
            <div id="dsq-comment-message-1017" class="dsq-comment-message"><p>æƒé™æ˜¯æ²¡é—®é¢˜çš„ï¼Œæˆ‘å¦å¤–ä¸€å°ç”µè„‘çš„windowséƒ½èƒ½æ­£å¸¸ä½¿ç”¨rootè®¿é—®ï¼›æ˜¯å¦ä¼šæ˜¯xamppé›†æˆç¯å¢ƒè¿˜æ˜¯my.cnfçš„æ–‡ä»¶æƒé™ï¼Ÿmy.cnfçš„é»˜è®¤æ–‡ä»¶æƒé™æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-1019">
        <div id="dsq-comment-header-1019" class="dsq-comment-header">
            <cite id="dsq-cite-1019">
                <a id="dsq-author-user-1019" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1019" class="dsq-comment-body">
            <div id="dsq-comment-message-1019" class="dsq-comment-message"><p>æˆ‘ä¸æ¸…æ¥šxampp</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even depth-3" id="dsq-comment-1018">
        <div id="dsq-comment-header-1018" class="dsq-comment-header">
            <cite id="dsq-cite-1018">
                <span id="dsq-author-user-1018">Bunm Jyo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1018" class="dsq-comment-body">
            <div id="dsq-comment-message-1018" class="dsq-comment-message"><p>Express server listening on port 3000</p>
<p>{ [Error: ER_ACCESS_DENIED_ERROR: Access denied for user &#8216;root&#8217;@&#8217;localhost&#8217; (using password: YES)]<br />
  code: &#8216;ER_ACCESS_DENIED_ERROR&#8217;,</p>
<p>  errno: 1045,</p>
<p>  sqlState: &#8216;28000&#8217;,</p>
<p>  fatal: true }</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-1020">
        <div id="dsq-comment-header-1020" class="dsq-comment-header">
            <cite id="dsq-cite-1020">
                <a id="dsq-author-user-1020" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1020" class="dsq-comment-body">
            <div id="dsq-comment-message-1020" class="dsq-comment-message"><p>å¾ˆæ˜æ˜¾çš„æƒé™é—®é¢˜ï¼Œå…è®¸è¿œç¨‹è®¿é—®å°±è¡Œäº†ï¼Œè™½ç„¶rootè¿™ä¹ˆåšå¾ˆä¸å®‰å…¨ã€‚</p>
<p>ç±»ä¼¼ä¸‹é¢çš„è¯­å¥<br />
GRANT ALL PRIVILEGES ON *.* TO root@%*%</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-1021">
        <div id="dsq-comment-header-1021" class="dsq-comment-header">
            <cite id="dsq-cite-1021">
                <span id="dsq-author-user-1021">Bunm Jyo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1021" class="dsq-comment-body">
            <div id="dsq-comment-message-1021" class="dsq-comment-message"><p>å·²ç»å¯ä»¥é€šè¿‡å¦å¤–ä¸€å°ç”µè„‘å±€åŸŸç½‘è¿œç¨‹è®¿é—®äº†ï¼Œä½†æ˜¯å°±nodeæ— æ³•è¿æ¥ï¼›è›‹éƒ½ç–¼è£‚äº†ï½ï½ =ã€‚=<br />
ä¼‘æ¯å§ï¼Œæ„Ÿè°¢</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-5" id="dsq-comment-1029">
        <div id="dsq-comment-header-1029" class="dsq-comment-header">
            <cite id="dsq-cite-1029">
                <span id="dsq-author-user-1029">Bunm Jyo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1029" class="dsq-comment-body">
            <div id="dsq-comment-message-1029" class="dsq-comment-message"><p>åœ¨windowsä¸‹è°ƒè¯•okäº†,<br />
è²Œä¼¼ä¸æ˜¯æ•°æ®åº“çš„é…ç½®é—®é¢˜,åº”è¯¥æ˜¯linuxçš„å“ªä¸ªæƒé™å‡ºäº†é—®é¢˜;æˆ‘å†æ‰¾æ‰¾åŸå› ,æå®šåç»™ç»“è´´</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-5" id="dsq-comment-1030">
        <div id="dsq-comment-header-1030" class="dsq-comment-header">
            <cite id="dsq-cite-1030">
                <span id="dsq-author-user-1030">Bunm Jyo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1030" class="dsq-comment-body">
            <div id="dsq-comment-message-1030" class="dsq-comment-message"><p>é—®é¢˜,åœ¨linuxä¸‹çš„nodejs ä»£ç ,è®¿é—®mysqlå»ºç«‹è¿æ¥,è‹¥å¯†ç ä¸ºç©º,åˆ™èƒ½æ­£å¸¸è¿æ¥,è‹¥æœ‰å¯†ç ,å°±ä¸€å®šæç¤ºä¸Šé¢çš„å¯†ç é”™è¯¯ 1045.ç¡®è®¤å¯†ç æ˜¯æ­£ç¡®çš„,linux å‘½ä»¤è¡Œä¸‹ç›¸åŒå¯†ç éƒ½èƒ½æ­£å¸¸è¿æ¥è®¿é—®.é—®é¢˜å‡ºåœ¨å“ªé‡Œå‘¢?æ˜¯nodejsä»£ç è¿˜æ˜¯linuxç³»ç»Ÿ?åº”è¯¥æ’é™¤mysqlåº“çš„é…ç½®é—®é¢˜,å› ä¸ºåœ¨windowså¹³å°ä¸‹ç›¸åŒçš„åº“,éƒ½æ˜¯æ­£å¸¸çš„è¯´</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-5" id="dsq-comment-1033">
        <div id="dsq-comment-header-1033" class="dsq-comment-header">
            <cite id="dsq-cite-1033">
                <a id="dsq-author-user-1033" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1033" class="dsq-comment-body">
            <div id="dsq-comment-message-1033" class="dsq-comment-message"><p>æ²¡çœ‹æ˜ç™½ï¼Œä½ è¯´çš„ã€‚</p>
<p>1. MySQLè¿è¡Œåœ¨ä»€ä¹ˆç³»ç»Ÿï¼Ÿ<br />
2. Nodeè¿è¡Œåœ¨ä»€ä¹ˆç³»ç»Ÿï¼Ÿ<br />
3. MySQLå’ŒNodeæ˜¯ä¸æ˜¯åŒä¸€å°æœºå™¨ï¼Ÿ<br />
4. MySQLçš„è®¿é—®è´¦å·çš„å¯†ç æ˜¯ç©ºè¿˜æ˜¯éç©ºï¼Ÿè®¿é—®è´¦å·æ˜¯å¦å·²æ”¯æŒè¿œç¨‹è®¿é—®ï¼Ÿ</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-1101">
        <div id="dsq-comment-header-1101" class="dsq-comment-header">
            <cite id="dsq-cite-1101">
                <span id="dsq-author-user-1101">liuwu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1101" class="dsq-comment-body">
            <div id="dsq-comment-message-1101" class="dsq-comment-message"><p>ä»£ç æœ‰ä¸Šä¼ å—</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1104">
        <div id="dsq-comment-header-1104" class="dsq-comment-header">
            <cite id="dsq-cite-1104">
                <a id="dsq-author-user-1104" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1104" class="dsq-comment-body">
            <div id="dsq-comment-message-1104" class="dsq-comment-message"><p>æ ¸å¿ƒä»£ç éƒ½åœ¨æ–‡ç« é‡Œå†™äº†ï¼Œæ²¡æœ‰å•ç‹¬ä¸Šä¼ ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-1109">
        <div id="dsq-comment-header-1109" class="dsq-comment-header">
            <cite id="dsq-cite-1109">
                <span id="dsq-author-user-1109">liuwu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1109" class="dsq-comment-body">
            <div id="dsq-comment-message-1109" class="dsq-comment-message"><p>ä½ å¥½ï¼Œæˆ‘æŒ‰ç…§æ–‡ç« æ“ä½œ<br />
 è¿æ¥æ± é…ç½®</p>
<p>å¢åŠ æ–‡ä»¶ï¼šapp-pooling.js<br />
è€æ˜¯æç¤ºæ²¡æœ‰mysql.createPoolæ–¹æ³•ã€‚</p>
<p>æˆ‘çš„ç³»ç»Ÿç¯å¢ƒ</p>
<p>win7 64bit</p>
<p>Nodejs:v0.10.26<br />
Npm:1.4.13</p>
<p>MySQL:5.6.16</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-1137">
        <div id="dsq-comment-header-1137" class="dsq-comment-header">
            <cite id="dsq-cite-1137">
                <a id="dsq-author-user-1137" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1137" class="dsq-comment-body">
            <div id="dsq-comment-message-1137" class="dsq-comment-message"><p>ä¸¤ä¸ªå¯èƒ½çš„é—®é¢˜ï¼š</p>
<p>æ²¡æœ‰å®‰è£…mysqlåº“<br />
npm install mysql@2.0.0-alpha9</p>
<p>æ²¡æœ‰å¢åŠ mysqlå¼•ç”¨<br />
var mysql = require(&#8216;mysql&#8217;);</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-1112">
        <div id="dsq-comment-header-1112" class="dsq-comment-header">
            <cite id="dsq-cite-1112">
                <span id="dsq-author-user-1112">skyweaver</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1112" class="dsq-comment-body">
            <div id="dsq-comment-message-1112" class="dsq-comment-message"><p>think you very much</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-1113">
        <div id="dsq-comment-header-1113" class="dsq-comment-header">
            <cite id="dsq-cite-1113">
                <span id="dsq-author-user-1113">skyweaver</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1113" class="dsq-comment-body">
            <div id="dsq-comment-message-1113" class="dsq-comment-message"><p>thank you very much</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-1132">
        <div id="dsq-comment-header-1132" class="dsq-comment-header">
            <cite id="dsq-cite-1132">
                <span id="dsq-author-user-1132">mikan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1132" class="dsq-comment-body">
            <div id="dsq-comment-message-1132" class="dsq-comment-message"><p>æƒ³é—®ä¸‹lzï¼Œmysqlçš„äº‹åŠ¡æ€ä¹ˆæ§åˆ¶</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1342">
        <div id="dsq-comment-header-1342" class="dsq-comment-header">
            <cite id="dsq-cite-1342">
                <a id="dsq-author-user-1342" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1342" class="dsq-comment-body">
            <div id="dsq-comment-message-1342" class="dsq-comment-message"><p>æˆ‘è¿˜æ²¡æœ‰è€ƒè™‘è¿‡ç”¨nodeæ§åˆ¶äº‹åŠ¡ï¼</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-1341">
        <div id="dsq-comment-header-1341" class="dsq-comment-header">
            <cite id="dsq-cite-1341">
                <span id="dsq-author-user-1341">zhumingpeng</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1341" class="dsq-comment-body">
            <div id="dsq-comment-message-1341" class="dsq-comment-message"><p>æ‚²å‰§  ä»€ï¿½ï¿½ï¿½éƒ½å®‰è£…äº†ã€‚ã€‚è¿˜æ˜¯ä¸è¡Œã€‚ã€‚ã€‚æäº†å¥½ä¹…äº†ã€‚ã€‚ä¸Šå›¾ å¤§ç¥å¸®æˆ‘çœ‹çœ‹</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1346">
        <div id="dsq-comment-header-1346" class="dsq-comment-header">
            <cite id="dsq-cite-1346">
                <a id="dsq-author-user-1346" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1346" class="dsq-comment-body">
            <div id="dsq-comment-message-1346" class="dsq-comment-message"><p>ä½ çš„æ‰§è¡Œç›®å½•ä¸å¯¹å§</p>
<p>1. Desktoptoptempnodedata.js è¿™æ˜¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†ä½ çš„å®‰è£…çš„MySQLåº“åœ¨E:programnodejsä¸‹é¢ã€‚</p>
<p>2. æ¯ä¸ªnodeé¡¹ç›®ï¼Œéƒ½éœ€è¦ä¸‹è½½å¯¹åº”çš„åº“ï¼Œå¦‚åŒJavaï¼Œè€Œä¸æ˜¯åƒPython,PHPç»Ÿä¸€å®‰è£…Nodeè½¯ä»¶ä¸­ã€‚</p>
<p>3. ä½ å¯ä»¥åœ¨Desktoptoptempnodeï¼Œç›®å½•å†é‡æ–°å®‰è£…mysqlåº“ï¼Œåº”è¯¥å°±å¯ä»¥è¿è¡Œäº†ã€‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-1434">
        <div id="dsq-comment-header-1434" class="dsq-comment-header">
            <cite id="dsq-cite-1434">
                <span id="dsq-author-user-1434">Yumiao Yan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1434" class="dsq-comment-body">
            <div id="dsq-comment-message-1434" class="dsq-comment-message"><p>well,nice</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1436">
        <div id="dsq-comment-header-1436" class="dsq-comment-header">
            <cite id="dsq-cite-1436">
                <a id="dsq-author-user-1436" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1436" class="dsq-comment-body">
            <div id="dsq-comment-message-1436" class="dsq-comment-message"><p>ğŸ™‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-1455">
        <div id="dsq-comment-header-1455" class="dsq-comment-header">
            <cite id="dsq-cite-1455">
                <span id="dsq-author-user-1455">aballam</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1455" class="dsq-comment-body">
            <div id="dsq-comment-message-1455" class="dsq-comment-message"><p>æˆ‘å¯ä»¥åŒæ—¶åˆ›å»ºå¤šä¸ªè¿æ¥å—ï¼Ÿ<br />
 var testCon = connectMysql(&#8220;test&#8221;);<br />
 var prodCon = connectMysql(&#8220;prod&#8221;);</p>
<p>ä¾‹å¦‚è¿™æ ·æˆ‘éœ€è¦åŒæ—¶æ›´æ–°æµ‹è¯•æœåŠ¡å™¨å’Œç”Ÿäº§ç¯å¢ƒçš„æ•°æ®åº“ï¼Œä¸çŸ¥é“æ˜¯æ€ä¹ˆåŒæ—¶åˆ›å»ºå¤šä¸ªè¿æ¥å®ä¾‹çš„å‘¢</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1456">
        <div id="dsq-comment-header-1456" class="dsq-comment-header">
            <cite id="dsq-cite-1456">
                <a id="dsq-author-user-1456" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1456" class="dsq-comment-body">
            <div id="dsq-comment-message-1456" class="dsq-comment-message"><p>å¯ä»¥åˆ›å»ºå¤šä¸ªè¿æ¥ï¼Œå’Œåˆ›å»ºä¸€ä¸ªæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>var pool1 = mysql.createPool({});<br />
var pool2 = mysql.createPool({});</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-1488">
        <div id="dsq-comment-header-1488" class="dsq-comment-header">
            <cite id="dsq-cite-1488">
                <span id="dsq-author-user-1488">Sylar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1488" class="dsq-comment-body">
            <div id="dsq-comment-message-1488" class="dsq-comment-message"><p>è¯·é—® è¿æ¥æ± çš„è‡ªåŠ¨é‡è¿çš„é—®é¢˜ æˆ‘ä»¬ä¸ç”¨å…³æ³¨å—ï¼Ÿ<br />
ä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰å®ƒè‡ªå·±ä¼šæœ‰é‡é“¾çš„æœºåˆ¶ï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1491">
        <div id="dsq-comment-header-1491" class="dsq-comment-header">
            <cite id="dsq-cite-1491">
                <a id="dsq-author-user-1491" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1491" class="dsq-comment-body">
            <div id="dsq-comment-message-1491" class="dsq-comment-message"><p>æ˜¯çš„ï¼Œä¼šè‡ªåŠ¨é‡è¿ï¼Œæˆ‘ä»¬ä¸ç”¨ç®¡ä»–ã€‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-1489">
        <div id="dsq-comment-header-1489" class="dsq-comment-header">
            <cite id="dsq-cite-1489">
                <span id="dsq-author-user-1489">Sylar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1489" class="dsq-comment-body">
            <div id="dsq-comment-message-1489" class="dsq-comment-message"><p>å¦å¤– å¦‚æœæˆ‘ä»è¿æ¥æ± é‡Œé¢æ‹¿çš„é“¾æ¥ è¶…æ—¶äº†åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ<br />
æˆ‘çœ‹äº†ä¸‹ è²Œä¼¼æ²¡æœ‰å¯ä»¥é…ç½®é“¾æ¥æ± é‡Œé¢é“¾æ¥çš„è¶…æ—¶æ—¶é—´çš„é€‰é¡¹</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1492">
        <div id="dsq-comment-header-1492" class="dsq-comment-header">
            <cite id="dsq-cite-1492">
                <a id="dsq-author-user-1492" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1492" class="dsq-comment-body">
            <div id="dsq-comment-message-1492" class="dsq-comment-message"><p>æ€ä¹ˆä¼šæ²¡æœ‰é…ç½®å‘¢ï¼Ÿ<br />
ä½ ä»¥â€œè¶…æ—¶â€ä¸ºå…³é”®å­—æœç´¢æ–‡ç« å†…å®¹ï¼Œæˆ‘åœ¨æ–‡ç« ä¸­å·²ç»æ˜ç¡®æµ‹è¯•äº†è¶…æ—¶çš„æƒ…å†µã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-1494">
        <div id="dsq-comment-header-1494" class="dsq-comment-header">
            <cite id="dsq-cite-1494">
                <span id="dsq-author-user-1494">Sylar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1494" class="dsq-comment-body">
            <div id="dsq-comment-message-1494" class="dsq-comment-message"><p>è°¢è°¢æ‚¨çš„å›ç­”ï¼ï¼<br />
æ˜¯è¿™æ ·çš„<br />
				resourcePool.getConnection(function(err, connection) {<br />
		if (err){<br />
			if(err.code==&#8217;ETIMEDOUT&#8217;){<br />
				//connection timeout<br />
				//if failed will crash<br />
				console.log(&#8216;sorry this connection is timeout!&#8217;);<br />
				throw err;<br />
			}</p>
<p>		}<br />
    connection.query(sql, function(err, result) {<br />
        if (err) throw err;<br />
        connection.release();<br />
        resolve(result);<br />
    });<br />
});<br />
æˆ‘æƒ³åœ¨sorry this connection is timeoutè¿™é‡Œæ•è·é“¾æ¥è¶…æ—¶ã€‚ æˆ‘åœ¨poolä¸­è®¾ç½®äº†<br />
            waitForConnections : true,<br />
            connectionLimit : 10,<br />
            queueLimit : 100,<br />
            connectTimeout : 1</p>
<p>ä½†æ˜¯ç¡®å®èƒ½æ•è·ä¸€ç§è¶…æ—¶ï¼Œä½†æ˜¯è¿™ç§é”™è¯¯ä¼šå¯¼è‡´ç¨‹åºç›´æ¥è¢«æ€æ‰<br />
æˆ‘æ˜¯æƒ³é—®  è¿™ç§è¿æ¥æ± ä¸­çš„é“¾æ¥çš„è¶…æ—¶é—®é¢˜æˆ‘ä»¬æ€ä¹ˆæ•è·å’Œè§£å†³å‘¢ï¼Ÿ<br />
æˆ‘çœ‹äº†ä¸‹githubçš„issue æœ‰ä¸€ä¸ªhttps://github.com/felixge/node-mysql/pull/726<br />
è¿™ä¸ªè²Œä¼¼å¢åŠ äº†connecTimeoutçš„å±æ€§</p>
<p>ä½†æ˜¯æˆ‘å¾—åˆ°çš„é”™è¯¯æ˜¯error: uncaughtExceptionError: Can&#8217;t set headers after they are sent.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-1498">
        <div id="dsq-comment-header-1498" class="dsq-comment-header">
            <cite id="dsq-cite-1498">
                <a id="dsq-author-user-1498" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1498" class="dsq-comment-body">
            <div id="dsq-comment-message-1498" class="dsq-comment-message"><p>ä½ å¯ä»¥è‡ªå·±å¤„ç† uncaughtException è¿™ä¸ªé”™è¯¯ï¼Œä½†è¦ç”¨å¦ä¸€å¤„æ–¹å¼ã€‚</p>
<p>å‚è€ƒæ–‡ç« ï¼š<br />
<a href="http://blog.fens.me/nodejs-core-domain/" rel="nofollow">http://blog.fens.me/nodejs-core-domain/</a> â€</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="post pingback">
        <p>Pingback: <a href='http://blog.fens.me/nodejs-roadmap/' rel='external nofollow' class='url'>Nodejså­¦ä¹ è·¯çº¿å›¾ | ç²‰ä¸æ—¥å¿—</a>()</p>
    </li>
    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2249">
        <div id="dsq-comment-header-2249" class="dsq-comment-header">
            <cite id="dsq-cite-2249">
                <span id="dsq-author-user-2249">kevinleeleelily</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2249" class="dsq-comment-body">
            <div id="dsq-comment-message-2249" class="dsq-comment-message"><p>æ‚¨å¥½ï¼Œè¯·é—®ï¼Œæˆ‘ç›´æ¥ä»æ•°æ®åº“é‡Œå–å‡ºæ•°æ®ç”¨renderä¼ å€¼åˆ°é¡µé¢ä¸å¯ä»¥å—ï¼Ÿæ€ä¹ˆä¼ è¿‡å»çš„æ˜¯éƒ½æ˜¯Objectå¯¹è±¡å‘¢ï¼Ÿä¸ç”¨Ajaxçš„è¯å¾—æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-2252">
        <div id="dsq-comment-header-2252" class="dsq-comment-header">
            <cite id="dsq-cite-2252">
                <a id="dsq-author-user-2252" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-2252" class="dsq-comment-body">
            <div id="dsq-comment-message-2252" class="dsq-comment-message"><p>1. å¯ä»¥ç”¨renderç›´æ¥åˆ°é¡µé¢<br />
2. sqlå–å‡ºæ¥çš„ï¼Œéƒ½æ˜¯Arrayç±»å‹çš„ [{},{},{}]<br />
3. å’ŒAjaxæ²¡å•¥å…³ç³»å§ã€‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-2812">
        <div id="dsq-comment-header-2812" class="dsq-comment-header">
            <cite id="dsq-cite-2812">
                <span id="dsq-author-user-2812">rookie</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2812" class="dsq-comment-body">
            <div id="dsq-comment-message-2812" class="dsq-comment-message"><p>ä½ å¥½ï¼Œæˆ‘ç”¨äº†ä½ çš„é‡è¿æ–¹æ³•ï¼Œåæ¥æç¤ºCannot enqueue Query after fatal error.æ˜¯å‡ºé”™åä¸èƒ½è®¿é—®æ•°æ®åº“äº†ï¼Œå¯æ˜¯æŒ‰é“ç†æˆ‘é‡æ–°å»ºç«‹è¿æ¥äº†å•Šï¼Œåæ¥æˆ‘æŸ¥çœ‹æ—¥å¿—ï¼Œdb error { [Error: Connection lost: The server closed the connection.] fatal: true, code: &#8216;PROTOCOL_CONNECTION_LOST&#8217; }<br />
Error: Connection lost: The server closed the connection.è¿™æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-2813">
        <div id="dsq-comment-header-2813" class="dsq-comment-header">
            <cite id="dsq-cite-2813">
                <span id="dsq-author-user-2813">rookie</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2813" class="dsq-comment-body">
            <div id="dsq-comment-message-2813" class="dsq-comment-message"><p>è¯¡å¼‚ï¼Œçœ‹æ ·å­è¿æ¥æ˜¯é‡æ–°å»ºç«‹äº†ï¼Œæˆ‘éšä¾¿ä¿®æ”¹äº†ä¸€è¡Œä»£ç ï¼Œå°±å¯ä»¥äº†<br />
è¿™æ˜¯ä»€ä¹ˆè¯¡å¼‚é—®é¢˜,è·Ÿç¼“å­˜æœ‰å…³ï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-2814">
        <div id="dsq-comment-header-2814" class="dsq-comment-header">
            <cite id="dsq-cite-2814">
                <span id="dsq-author-user-2814">rookie</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2814" class="dsq-comment-body">
            <div id="dsq-comment-message-2814" class="dsq-comment-message"><p>åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œæˆ‘å¼€å‘ç¯å¢ƒç”¨çš„superviorï¼Œéšä¾¿æ”¹äº†ä»£ç ï¼Œç›¸å½“é‡å¯äº†æœåŠ¡å™¨ï¼Œæ„Ÿè§‰é—®é¢˜è¿˜åœ¨ã€‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-2817">
        <div id="dsq-comment-header-2817" class="dsq-comment-header">
            <cite id="dsq-cite-2817">
                <a id="dsq-author-user-2817" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-2817" class="dsq-comment-body">
            <div id="dsq-comment-message-2817" class="dsq-comment-message"><p>è¿™ä¸ªé”™è¯¯çœ‹èµ·æ¥æ˜¯MySQLæ•°æ®åº“ç«¯çš„é—®é¢˜ï¼ŒæœåŠ¡å™¨å…³é—­çš„è¿æ¥ï¼Œä¸æ˜¯å®¢æˆ·ç«¯çš„é—®é¢˜ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-2818">
        <div id="dsq-comment-header-2818" class="dsq-comment-header">
            <cite id="dsq-cite-2818">
                <span id="dsq-author-user-2818">rookie</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2818" class="dsq-comment-body">
            <div id="dsq-comment-message-2818" class="dsq-comment-message"><p>æˆ‘æ¯å¤©æ™šä¸Šèµ°å¥½å¥½çš„ï¼Œç¬¬äºŒå¤©æ—©ä¸Šæ¥å°±è¿ä¸ä¸Šäº†ï¼Œè€Œä¸”æç¤ºPROTOCOL_CONNECTION_LOSTï¼ŒæŒ‰é“ç†ï¼Œæˆ‘æœ‰æ•è·errorç„¶åé‡æ–°å»ºç«‹è¿æ¥å•Šï¼Œæˆ‘æ‰“ç®—ä»Šå¤©ç”¨è¿æ¥æ± è¯•ä¸€è¯•</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-2820">
        <div id="dsq-comment-header-2820" class="dsq-comment-header">
            <cite id="dsq-cite-2820">
                <a id="dsq-author-user-2820" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-2820" class="dsq-comment-body">
            <div id="dsq-comment-message-2820" class="dsq-comment-message"><p>è¿æ¥æ± å¯ä»¥è§£å†³è‡ªåŠ¨é‡è¿çš„é—®é¢˜ï¼Œè‡ªå·±æ‰‹åŠ¨é‡è¿ï¼Œæœ‰å¾ˆå¤šç»†èŠ‚è¦æ³¨æ„ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-3569">
        <div id="dsq-comment-header-3569" class="dsq-comment-header">
            <cite id="dsq-cite-3569">
                <span id="dsq-author-user-3569">fei</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3569" class="dsq-comment-body">
            <div id="dsq-comment-message-3569" class="dsq-comment-message"><p>errorå¤„ç†ä¹‹å‰,ç”¨connå‘èµ·äº†è®¿é—®,PROTOCOL_ENQUEUE_AFTER_FATAL_ERROR,ä¹‹åå°±ä¸å†æŠ¥erroräº†,æ²¡æœºä¼šé‡è¿</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-5" id="dsq-comment-3575">
        <div id="dsq-comment-header-3575" class="dsq-comment-header">
            <cite id="dsq-cite-3575">
                <a id="dsq-author-user-3575" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3575" class="dsq-comment-body">
            <div id="dsq-comment-message-3575" class="dsq-comment-message"><p>æˆ‘å¥½åƒæ²¡æœ‰é‡åˆ°è¿‡ï¼Œä½ è¯´çš„é—®é¢˜ã€‚</p>
<p>node-mysqlå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå·²ç»Closedäº†ã€‚<br />
<a href="https://github.com/felixge/node-mysql/issues/900" rel="nofollow">https://github.com/felixge/node-mysql/issues/900</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-5078">
        <div id="dsq-comment-header-5078" class="dsq-comment-header">
            <cite id="dsq-cite-5078">
                <span id="dsq-author-user-5078">XChen</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5078" class="dsq-comment-body">
            <div id="dsq-comment-message-5078" class="dsq-comment-message"><p>è¿™å¯èƒ½æ˜¯å› ä¸ºä½ å°†mysql éƒ¨åˆ†å°è£…äº†ï¼Œexportsäº†connectionï¼Œä¾¿é‡æ–°è¿æ¥ä¹‹åï¼Œconnectionå¹¶æ²¡æœ‰æ›´æ–°ï¼Œå…¶å®æ˜¯ä¸€ä¸ªjsçš„ç†è§£é—®é¢˜ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-3" id="dsq-comment-5083">
        <div id="dsq-comment-header-5083" class="dsq-comment-header">
            <cite id="dsq-cite-5083">
                <a id="dsq-author-user-5083" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5083" class="dsq-comment-body">
            <div id="dsq-comment-message-5083" class="dsq-comment-message"><p>åº”è¯¥æ˜¯è¿™ä¹ˆå›äº‹ã€‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2950">
        <div id="dsq-comment-header-2950" class="dsq-comment-header">
            <cite id="dsq-cite-2950">
                <span id="dsq-author-user-2950">damon</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2950" class="dsq-comment-body">
            <div id="dsq-comment-message-2950" class="dsq-comment-message"><p>function query(){<br />
    console.log(new Date());<br />
    var sql = &#8220;show variables like &#8216;wait_timeout'&#8221;;<br />
    conn.query(sql, function (err, res) {<br />
        console.log(res);<br />
    });<br />
}</p>
<p>query();<br />
setInterval(query, 15*1000);<br />
ä½ æ²¡æœ‰æŠ¥  Connection already released  çš„é”™è¯¯å—ï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-2952">
        <div id="dsq-comment-header-2952" class="dsq-comment-header">
            <cite id="dsq-cite-2952">
                <a id="dsq-author-user-2952" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-2952" class="dsq-comment-body">
            <div id="dsq-comment-message-2952" class="dsq-comment-message"><p>ä½ çš„ä»£ç ä¼¼ä¹æœ‰ç‚¹é—®é¢˜ï¼Œconnå˜é‡ï¼Œå¦‚æœæ˜¯å…¨å±€å˜é‡ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå‡ºç°ä½ è¿™æ ·çš„é”™è¯¯ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-4705">
        <div id="dsq-comment-header-4705" class="dsq-comment-header">
            <cite id="dsq-cite-4705">
                <span id="dsq-author-user-4705">Xiangxuan Qu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4705" class="dsq-comment-body">
            <div id="dsq-comment-message-4705" class="dsq-comment-message"><p>ä¸¹å“¥æ‚¨å¥½ï¼Œå¤åˆ¶æ‚¨çš„ä»£ç ä¹‹åï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-4760">
        <div id="dsq-comment-header-4760" class="dsq-comment-header">
            <cite id="dsq-cite-4760">
                <a id="dsq-author-user-4760" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-4760" class="dsq-comment-body">
            <div id="dsq-comment-message-4760" class="dsq-comment-message"><p>å¤šåšä¸€æ­¥æ£€æŸ¥<br />
var pool = null;<br />
if(pool ==null){<br />
   pool = mysql.createPool({<br />
}<br />
è®©mysql.createPool()åªæ‰§è¡Œä¸€æ¬¡ï¼Œå˜æˆå•ä¾‹çš„æ–¹æ³•ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-4853">
        <div id="dsq-comment-header-4853" class="dsq-comment-header">
            <cite id="dsq-cite-4853">
                <span id="dsq-author-user-4853">Xiangxuan Qu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4853" class="dsq-comment-body">
            <div id="dsq-comment-message-4853" class="dsq-comment-message"><p>å¤šè°¢ä¸¹å“¥</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt depth-4" id="dsq-comment-4863">
        <div id="dsq-comment-header-4863" class="dsq-comment-header">
            <cite id="dsq-cite-4863">
                <a id="dsq-author-user-4863" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-4863" class="dsq-comment-body">
            <div id="dsq-comment-message-4863" class="dsq-comment-message"><p>è®©mysql.createPool()åªæ‰§è¡Œä¸€æ¬¡ï¼Œå˜æˆå•ä¾‹çš„æ–¹æ³•ã€‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-3108">
        <div id="dsq-comment-header-3108" class="dsq-comment-header">
            <cite id="dsq-cite-3108">
                <span id="dsq-author-user-3108">èµµç»§å®—</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3108" class="dsq-comment-body">
            <div id="dsq-comment-message-3108" class="dsq-comment-message"><p>æ­£åœ¨ä½¿ç”¨node-mysqlï¼Œå°±çœ‹åˆ°äº†åšä¸»çš„æ–‡ç« ï¼Œèµèµèµèµ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-3109">
        <div id="dsq-comment-header-3109" class="dsq-comment-header">
            <cite id="dsq-cite-3109">
                <a id="dsq-author-user-3109" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3109" class="dsq-comment-body">
            <div id="dsq-comment-message-3109" class="dsq-comment-message"><p>ğŸ™‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-3420">
        <div id="dsq-comment-header-3420" class="dsq-comment-header">
            <cite id="dsq-cite-3420">
                <a id="dsq-author-user-3420" href="http://www.xuanfengge.com/" target="_blank" rel="nofollow">ivan</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3420" class="dsq-comment-body">
            <div id="dsq-comment-message-3420" class="dsq-comment-message"><p>mark å¥½å¥½å­¦ä¹ ä¸‹</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-3895">
        <div id="dsq-comment-header-3895" class="dsq-comment-header">
            <cite id="dsq-cite-3895">
                <span id="dsq-author-user-3895">å°xixi</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3895" class="dsq-comment-body">
            <div id="dsq-comment-message-3895" class="dsq-comment-message"><p>ä½ å¥½ï¼Œä¸ºä»€ä¹ˆæ˜æ˜æˆ‘å·²ç»åœ¨nodejsç›®å½•ä¸‹ï¼Œnpm install mysql@2.0.0-alpha9ï¼Œå¯ä¸ºä»€ä¹ˆè¿˜æ˜¯æŠ¥can not find module mysqlçš„é”™è¯¯å‘¢ï¼Ÿï¼Ÿæ€¥åˆ‡å¸Œæœ›å¾—åˆ°æŒ‡å¯¼å’Œå¸®åŠ©</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-3931">
        <div id="dsq-comment-header-3931" class="dsq-comment-header">
            <cite id="dsq-cite-3931">
                <a id="dsq-author-user-3931" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3931" class="dsq-comment-body">
            <div id="dsq-comment-message-3931" class="dsq-comment-message"><p>npm install mysql</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-4099">
        <div id="dsq-comment-header-4099" class="dsq-comment-header">
            <cite id="dsq-cite-4099">
                <span id="dsq-author-user-4099">é£â€¦â€¦æ¸…</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4099" class="dsq-comment-body">
            <div id="dsq-comment-message-4099" class="dsq-comment-message"><p>åœ¨node-demoä¸‹npm install mysql</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-4160">
        <div id="dsq-comment-header-4160" class="dsq-comment-header">
            <cite id="dsq-cite-4160">
                <span id="dsq-author-user-4160">hbedw</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4160" class="dsq-comment-body">
            <div id="dsq-comment-message-4160" class="dsq-comment-message"><p>æ–‡ç« ä¸é”™å“ˆ æ”’ä¸€ä¸ª</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-4164">
        <div id="dsq-comment-header-4164" class="dsq-comment-header">
            <cite id="dsq-cite-4164">
                <a id="dsq-author-user-4164" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-4164" class="dsq-comment-body">
            <div id="dsq-comment-message-4164" class="dsq-comment-message"><p>ğŸ™‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-4556">
        <div id="dsq-comment-header-4556" class="dsq-comment-header">
            <cite id="dsq-cite-4556">
                <span id="dsq-author-user-4556">xiaolin</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4556" class="dsq-comment-body">
            <div id="dsq-comment-message-4556" class="dsq-comment-message"><p>æ¥¼ä¸»ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä½ ï¼Œå°±æ˜¯å¦‚æœæˆ‘åœ¨å¤šä¸ªåœ°æ–¹åŠ è½½äº†è¿™ä¸ªapp-pooling.jsæ–‡ä»¶ï¼Œé‚£ä¹ˆä¼šä¸ä¼šåˆ›å»ºå¤šä¸ªè¿æ¥æ± å‡ºæ¥å‘¢ï¼Ÿè¿™ä¸ªè¿æ¥æ± æ˜¯å•ä¾‹çš„å—ï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-4561">
        <div id="dsq-comment-header-4561" class="dsq-comment-header">
            <cite id="dsq-cite-4561">
                <a id="dsq-author-user-4561" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-4561" class="dsq-comment-body">
            <div id="dsq-comment-message-4561" class="dsq-comment-message"><p>ä¼šåˆ›å»ºå¤šä¸ªæ± ã€‚</p>
<p>æ‰€ä»¥ï¼Œpoolè¿™ä¸ªå˜é‡æœ€å¥½å…¨å±€å˜é‡ï¼Œç¬¬äºŒæ¬¡åˆ›å»ºæ˜¯åˆ¤æ–­å˜é‡æ˜¯å¦æœ‰å€¼ï¼Œè¦è‡ªå·±åšå•ä¾‹ã€‚</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-4564">
        <div id="dsq-comment-header-4564" class="dsq-comment-header">
            <cite id="dsq-cite-4564">
                <span id="dsq-author-user-4564">xiaolin</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4564" class="dsq-comment-body">
            <div id="dsq-comment-message-4564" class="dsq-comment-message"><p>æ„Ÿè°¢æ¥¼ä¸»~<br />
ä½†æ˜¯ç°åœ¨æˆ‘çš„ç–‘æƒ‘æ›´å¤šäº†<br />
baseDao.jsï¼Œä»£ç å¦‚ä¸‹ï¼š<br />
var pool = mysql.createPool(options);<br />
module.exports = {<br />
è·å–è¿æ¥ï¼Œæ‰§è¡Œå“åº”æŸ¥è¯¢<br />
}</p>
<p>template.jsï¼Œä»£ç å¦‚ä¸‹ï¼š<br />
var pool = mysql.createPool(options);<br />
module.exports = {<br />
è·å–è¿æ¥ï¼Œæ‰§è¡Œå“åº”æŸ¥è¯¢<br />
}<br />
é—®é¢˜ä¸€ï¼š<br />
åªåˆ›å»ºä¸€æ¬¡çš„æ—¶å€™ï¼Œæ•°æ®åº“æ˜¯ä¸æ˜¯åº”è¯¥æœ‰10ä¸ªè¿æ¥å‘¢ï¼Ÿæˆ‘çœ‹ä»£ç é‡Œé¢é»˜è®¤æ˜¯10æ¡ï¼Œæˆ‘æ²¡æœ‰åšé™åˆ¶ã€‚<br />
é—®é¢˜äºŒï¼š<br />
æˆ‘åœ¨ä¸€ä¸ªè·¯ç”±ä¸­è°ƒç”¨äº†è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘çœ‹æ•°æ®åº“è¿æ¥ä¹Ÿä¸æ˜¯æ›´å¤šäº†ï¼Œè·Ÿåˆ›å»ºä¸€æ¬¡è¿æ¥æ± æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>psï¼šæˆ‘æ¯æ¬¡æŸ¥è¯¢åé‡Šæ”¾äº†è¿æ¥</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-4576">
        <div id="dsq-comment-header-4576" class="dsq-comment-header">
            <cite id="dsq-cite-4576">
                <span id="dsq-author-user-4576">ll</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4576" class="dsq-comment-body">
            <div id="dsq-comment-message-4576" class="dsq-comment-message"><p>è¯·é—®,åœ¨a.jsä¸­module.exports.a = function(){conn.queryçš„æ“ä½œ}, b.jsè°ƒç”¨a(),å¦‚ä½•æ‰èƒ½æ‹¿åˆ°conn.queryé‡Œé¢çš„æ•°æ®..è¿™ä¸ªæ“ä½œæ˜¯å¼‚æ­¥çš„, æ€ä¹ˆå†™å›è°ƒå‘¢?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-4577">
        <div id="dsq-comment-header-4577" class="dsq-comment-header">
            <cite id="dsq-cite-4577">
                <a id="dsq-author-user-4577" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-4577" class="dsq-comment-body">
            <div id="dsq-comment-message-4577" class="dsq-comment-message"><p>poolï¼Œæ˜¯å…¨å±€å˜é‡</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-4868">
        <div id="dsq-comment-header-4868" class="dsq-comment-header">
            <cite id="dsq-cite-4868">
                <span id="dsq-author-user-4868">Albee_na</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4868" class="dsq-comment-body">
            <div id="dsq-comment-message-4868" class="dsq-comment-message"><p>æ‚¨å¥½ï¼Œæˆ‘æœ€è¿‘åˆšå­¦çš„node.jsï¼Œç„¶åè¦ç”¨node.jsè¿æ¥MySQLï¼Œå°†æ•°æ®åº“ä¸­çš„å†…å®¹æ˜¾ç¤ºå‡ºæ¥ã€‚æˆ‘å·²ç»å®‰è£…äº†nodeï¼Œä¹Ÿå®‰äº†MySQLï¼Œåˆšåˆšçœ‹äº†ä¸€ä¸‹æ‚¨ä¸Šé¢çš„ä»£ç ï¼Œè§‰å¾—æœ‰ç‚¹å›°æƒ‘ï¼Œæˆ‘æ˜¯è¦é‡æ–°å®‰è£…nodeå’ŒMySQLå—ï¼Ÿ</p>
</div>
        </div>

    </li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://blog.fens.me/nodejs-mysql-intro/';
var disqus_identifier = '2343 http://blog.fens.me/?p=2343';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'bsspirit';
var disqus_title = "ç”¨Nodejsè¿æ¥MySQL";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=2343';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

            </div>
          </div>
       </div>
    
</div> <!-- END Narrowcolumn -->

<div id="sidebar" class="profile">
 <ul>
<li id="widget_nav_menu" class="widget png_scale"><h2 class="blocktitle"><span>ç«™å†…å¯¼èˆª</span></h2><div class="menu-menu-1-container"><ul id="menu-menu-1" class="menu"><li id="menu-item-2328" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2328"><a href="http://blog.fens.me/series-r/">Rçš„æå®¢ç†æƒ³ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2329" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2329"><a href="http://blog.fens.me/series-nodejs/">ä»é›¶å¼€å§‹nodejsç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2338" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2338"><a href="http://blog.fens.me/series-it-finance/">ç”¨ITæŠ€æœ¯ç©é‡‘èç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-6505" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6505"><a href="http://blog.fens.me/series-meeting/">è·¨ç•ŒçŸ¥è¯†èšä¼šç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2339" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2339"><a href="http://blog.fens.me/series-hadoop-family/">Hadoopå®¶æ—ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2337" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2337"><a href="http://blog.fens.me/series-angular/">AngularJSä½“éªŒå¼ç¼–ç¨‹ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2331" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2331"><a href="http://blog.fens.me/series-rhadoop/">RHadoopå®è·µç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2330" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2330"><a href="http://blog.fens.me/series-java/">æ— æ‰€ä¸èƒ½çš„Javaç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2336" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2336"><a href="http://blog.fens.me/series-ubuntu/">ubuntuå®ç”¨å·¥å…·ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2332" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2332"><a href="http://blog.fens.me/series-r-nosql/">Råˆ©å‰‘NoSQLç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2334" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2334"><a href="http://blog.fens.me/series-mongodb/">MongoDBéƒ¨ç½²å®éªŒç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2335" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2335"><a href="http://blog.fens.me/series-hadoop-cloud/">è®©Hadoopè·‘åœ¨äº‘ç«¯ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2333"><a href="http://blog.fens.me/series-vps/">è‡ªå·±æ­å»ºVPSç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-5469" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5469"><a href="http://blog.fens.me/series-architect/">æ¶æ„å¸ˆçš„ä¿¡ä»°ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="http://blog.fens.me/series-algorithm/">ç®—æ³•ä¸ºç‹ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-8189" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8189"><a href="http://blog.fens.me/series-seo/">æˆ‘çš„åšå®¢æˆ‘çš„SEOç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2340" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2340"><a href="http://blog.fens.me/series-visualisation/">åˆ›é€ å¯è§†åŒ–ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-7694" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7694"><a href="http://blog.fens.me/series-startup/">åˆ›ä¸šè€…çš„å›§å¢ƒç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-8842" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8842"><a href="http://blog.fens.me/tasks/">å†™ä½œè®¡åˆ’åˆ—è¡¨</a></li>
<li id="menu-item-2342" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2342"><a href="http://blog.fens.me/about/">å…³äºç«™é•¿</a></li>
<li id="menu-item-8175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8175"><a href="http://blog.fens.me/ad/">æŠ•æ”¾å¹¿å‘Š</a></li>
</ul></div></li><li id="widget_recent_comments" class="widget png_scale"><h2 class="blocktitle"><span>æœ€æ–°è¯„è®º</span></h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">Rachel Wijaya</span> on <a href="http://blog.fens.me/hexo-blog-github/#comment-5579">Hexoåœ¨githubä¸Šæ„å»ºå…è´¹çš„Webåº”ç”¨</a></li><li class="recentcomments"><span class="comment-author-link">Vincent</span> on <a href="http://blog.fens.me/hadoop-mapreduce-matrix/#comment-5576">ç”¨MapReduceå®ç°çŸ©é˜µä¹˜æ³•</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://www.flyfishonline.com/' rel='external nofollow' class='url'>BabyGo</a></span> on <a href="http://blog.fens.me/r-docker/#comment-5572">å½“Rè¯­è¨€é‡ä¸ŠDocker</a></li><li class="recentcomments"><span class="comment-author-link">xp Wan</span> on <a href="http://blog.fens.me/linux-mysql-install/#comment-5571">åœ¨Ubuntuä¸­å®‰è£…MySQL</a></li><li class="recentcomments"><span class="comment-author-link">Kang Ji</span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5566">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/' rel='external nofollow' class='url'>Conan Zhang</a></span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5565">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link">å”åœ‹æ·¯</span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5559">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/architect-next/' rel='external nofollow' class='url'>æŠ€æœ¯å¤§ç‰›å¦‚ä½•å¯»æ‰¾ä¸‹ä¸€ä¸ªé£å£ | ç²‰ä¸æ—¥å¿—</a></span> on <a href="http://blog.fens.me/series-architect/#comment-5534">æ¶æ„å¸ˆçš„ä¿¡ä»°ç³»åˆ—æ–‡ç« </a></li><li class="recentcomments"><span class="comment-author-link">æ¨ä¿Šæ—</span> on <a href="http://blog.fens.me/nodejs-email-nodemailer/#comment-5526">Nodejså‘é‚®ä»¶ç»„ä»¶Nodemailer</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/' rel='external nofollow' class='url'>Conan Zhang</a></span> on <a href="http://blog.fens.me/nodejs-core-domain/#comment-5520">Nodejså¼‚æ­¥å¼‚å¸¸å¤„ç†domain</a></li><li class="recentcomments"><span class="comment-author-link">Sam Hu</span> on <a href="http://blog.fens.me/nodejs-core-domain/#comment-5517">Nodejså¼‚æ­¥å¼‚å¸¸å¤„ç†domain</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://github.com/lgh06' rel='external nofollow' class='url'>HapLeo</a></span> on <a href="http://blog.fens.me/startup-registration/#comment-5512">æ–°å…¬å¸æ³¨å†Œæµç¨‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://github.com/lgh06' rel='external nofollow' class='url'>HapLeo</a></span> on <a href="http://blog.fens.me/series-it-finance/#comment-5511">ç”¨ITæŠ€æœ¯ç©é‡‘èç³»åˆ—æ–‡ç« </a></li><li class="recentcomments"><span class="comment-author-link">æ¨é•‡é“­</span> on <a href="http://blog.fens.me/r-multi-linear-regression/#comment-5508">Rè¯­è¨€è§£è¯»å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/' rel='external nofollow' class='url'>Conan Zhang</a></span> on <a href="http://blog.fens.me/r-apply/#comment-5507">æŒæ¡Rè¯­è¨€ä¸­çš„applyå‡½æ•°æ—</a></li></ul></li>		<li id="widget_recent_entries" class="widget png_scale">		<h2 class="blocktitle"><span>æœ€æ–°æ–‡ç« </span></h2>		<ul>
					<li>
				<a href="http://blog.fens.me/architect-next/">æŠ€æœ¯å¤§ç‰›å¦‚ä½•å¯»æ‰¾ä¸‹ä¸€ä¸ªé£å£</a>
						</li>
					<li>
				<a href="http://blog.fens.me/architect-algorithm/">ç®—æ³•ï¼Œå¦‚ä½•æ”¹å˜å‘½è¿</a>
						</li>
					<li>
				<a href="http://blog.fens.me/angular2-init/">Angular2æ–°çš„ä½“éªŒ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/finance-capm/">Rè¯­è¨€è§£è¯»èµ„æœ¬èµ„äº§å®šä»·æ¨¡å‹CAPM</a>
						</li>
					<li>
				<a href="http://blog.fens.me/finance-mojie/">ç”¨æ•°æ®è§£è¯»æ‘©ç¾¯æ™ºæŠ•</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-softcon-20161210/">2016ä¸­å›½è½¯ä»¶æŠ€æœ¯å¤§ä¼š:ç”¨Rè¯­è¨€è¿›è¡ŒæŠ•èµ„ç»„åˆç®¡ç†</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-iais-20161125/">2016IAISäººå·¥æ™ºèƒ½äº§ä¸šè®ºå›:ç”¨Rè¯­è¨€è¿›è¡ŒæŠ•èµ„ç»„åˆç®¡ç†</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-cdas-20160903/">2016CDASä¸­å›½æ•°æ®åˆ†æå¸ˆè¡Œä¸šå³°ä¼š:å¦‚ä½•ç”¨Rè¯­è¨€è¿›è¡Œé‡åŒ–åˆ†æ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-docker/">å½“Rè¯­è¨€é‡ä¸ŠDocker</a>
						</li>
					<li>
				<a href="http://blog.fens.me/linux-docker-install/">åœ¨Ubuntuä¸­å®‰è£…Docker</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-ar/">Rè¯­è¨€è§£è¯»è‡ªå›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-quant-packages/">Rè¯­è¨€é‡åŒ–æŠ•èµ„å¸¸ç”¨åŒ…æ€»ç»“</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-cpp-rcpp/">Rè¯­è¨€è·¨ç•Œè°ƒç”¨C++</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-multi-linear-regression/">Rè¯­è¨€è§£è¯»å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-linear-regression/">Rè¯­è¨€è§£è¯»ä¸€å…ƒçº¿æ€§å›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-word-jiebar/">Rè¯­è¨€ä¸­æ–‡åˆ†è¯åŒ…jiebaR</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-hellobi-20160701/">2016å¤©å–„æ™ºèƒ½äº¤æµä¼šç¬¬22åœº: Rè¯­è¨€ä¸ºé‡åŒ–è€Œç”Ÿ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-finance/">Rè¯­è¨€ä¸ºé‡åŒ–è€Œç”Ÿ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-data-table/">è¶…é«˜æ€§èƒ½æ•°æ®å¤„ç†åŒ…data.table</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-apply/">æŒæ¡Rè¯­è¨€ä¸­çš„applyå‡½æ•°æ—</a>
						</li>
				</ul>
		</li>		 
</ul></div>
<div class="clear"></div>

<div id="footer">
<div class="lt">Copyright &copy; 2017 All rights reserved.</div>
<div class="rt">Designed by <img src="http://blog.fens.me/wp-content/themes/silesia/images/natty-logo.png" width="82" height="17" valign="3px" class="png" alt="NattyWP" align="middle" /></div>		
<div class="clear"></div>			
</div>
    
</div>  
<div class="clear"></div>
</div><!-- END main wrapper -->

        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'bsspirit';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1 && nodes[i].parentNode.tagName == 'A') {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type="text/javascript" src="http://www.fens.me/js/google.js"></script>
<script type="text/javascript" src="http://www.fens.me/js/baidu.js"></script><script type="text/javascript" charset="utf-8">/*<![CDATA[*/ 
    jQuery(document).ready(function() {
        jQuery(".slideshow").cycle({
          fx: "turnDown",
          timeout: 6000,
          speed: 1000,
          prev: "#left-arrow",
          next: "#right-arrow",
          pagerEvent: "click",
          pauseOnPagerHover: true,
          cleartypeNoBg: true });						
      });
      /*]]>*/</script><script type='text/javascript' src='http://blog.fens.me/wp-includes/js/comment-reply.min.js?ver=4.7.4'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-includes/js/wp-embed.min.js?ver=4.7.4'></script>
 
<script type="text/javascript" src="http://www.fens.me/js/ads.js"></script>
<script type="text/javascript" src="http://www.fens.me/js/google.js"></script>
<script type="text/javascript" src="http://www.fens.me/js/baidu.js"></script>

</body>
</html>