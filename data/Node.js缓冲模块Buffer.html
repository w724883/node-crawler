<!DOCTYPE html>
<html lang="en-US">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Node.jsç¼“å†²æ¨¡å—Buffer | ç²‰ä¸æ—¥å¿—</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://blog.fens.me/xmlrpc.php" />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— &raquo; Feed" href="http://blog.fens.me/feed/" />
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— &raquo; Comments Feed" href="http://blog.fens.me/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— &raquo; Node.jsç¼“å†²æ¨¡å—Buffer Comments Feed" href="http://blog.fens.me/nodejs-buffer/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.fens.me\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.4"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='default-css'  href='http://blog.fens.me/wp-content/themes/silesia/style.css' type='text/css' media='all' />
<!--[if IE 7]>
<link rel='stylesheet' id='silesia-ie7-css'  href='http://blog.fens.me/wp-content/themes/silesia/ie7.css' type='text/css' media='all' />
<![endif]-->
<!--[if IE 6]>
<link rel='stylesheet' id='silesia-ie6-css'  href='http://blog.fens.me/wp-content/themes/silesia/ie6.css' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='http://blog.fens.me/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-content/themes/silesia/js/jquery.cycle.all.min.js'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-content/themes/silesia/js/load.js'></script>
<link rel='https://api.w.org/' href='http://blog.fens.me/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.fens.me/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.fens.me/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Node.jsåŠ å¯†ç®—æ³•åº“Crypto' href='http://blog.fens.me/nodejs-crypto/' />
<link rel='next' title='Node.jsè¿›ç¨‹é€šä¿¡æ¨¡å—child_process' href='http://blog.fens.me/nodejs-child-process/' />
<meta name="generator" content="WordPress 4.7.4" />
<link rel="canonical" href="http://blog.fens.me/nodejs-buffer/" />
<link rel='shortlink' href='http://blog.fens.me/?p=7813' />
<link rel="alternate" type="application/json+oembed" href="http://blog.fens.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.fens.me%2Fnodejs-buffer%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://blog.fens.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.fens.me%2Fnodejs-buffer%2F&#038;format=xml" />
<meta name="template" content="silesia 1.0.6" />
<meta name="generator" content="NattyWP Framework Version 2.1.5" />
<meta name="keywords" content="nodejs,javascript,buffer,string,8k,string,buf.write,buf.read,buf.fill" />
<meta name="description" content="è·¨ç•Œçš„ITåšå®¢ï¼Œæ ¸å¿ƒITæŠ€æœ¯åŒ…æ‹¬ï¼šHadoop, R, RHadoop, Nodejs, AngularJS, KVM, NoSQL, ITé‡‘è" />
<link href="http://blog.fens.me/wp-content/uploads/2013/05/favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="http://blog.fens.me/wp-content/themes/silesia/functions/css/shortcodes.css" media="screen" /><script type="text/javascript" src="http://blog.fens.me/wp-content/themes/silesia/functions/js/shortcode.js"></script><style type="text/css">
	#header {
		background-color: #F7F7F7;
	}
	#main-nav, #main-nav a#control, #link-sidebar h2 {
		color: #30353A;
	}
	#header .tagline {
		color: #BBBBBB;
	}
	#main-nav {
		background-color: #527F8D;
	}
	#main-nav, #main-nav a#control, #link-sidebar h2 {
		color: #ffffff;
	}
	#link-sidebar a, #main-nav a#control:hover {
		color: #D8F1FA;
	}
	#link-sidebar ul li.widget a:hover {
		color: #ffffff;
	}
	.hentry h2, .hentry h2 a, .singlepage .post h2, .singlepage .page.comments h2 {
		color: #434343;
	}
	.p-cont .entry, .singlepage .entry {
		color: #4D4D4F;
	}
	.post a, .page.comments a {
		color: #0E73B8;
	}
	.post a:hover, .page.comments a:hover, .hentry h2 a:hover {
		color: #ff0505;
	}
	#sidebar h2 {
		color: #4D4D4F;
	}
	#sidebar {
		color: #555555;
	}
	#sidebar a {
		color: #0E73B8;
	}
	#sidebar a:hover {
		color: #ff0505;
	}
</style><style type="text/css">
    #header .triangle {border-left: 7px solid #527F8D;}
  </style><!--[if IE 6]>
    <script type="text/javascript" src="http://blog.fens.me/wp-content/themes/silesia/js/ie6/warning.js"></script>
    <script type="text/javascript" charset="utf-8">/*<![CDATA[*/window.onload=function(){e("http://blog.fens.me/wp-content/themes/silesia/js/ie6/")}/*]]>*/</script>
<![endif]-->		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
</head>

<body class="post-template-default single single-post postid-7813 single-format-standard custom-background">
<div id="main-nav">
  <div id="link-sidebar">
    <ul>
                      <li class="widget png_scale" id="widget_categories">
          <h2 class="blocktitle"><span>Categories</span></h2>	
          <ul>
              	<li class="cat-item cat-item-9"><a href="http://blog.fens.me/category/datagurucn/" >Dataguruä½œä¸š</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://blog.fens.me/category/hadoop-action/" >Hadoopå®è·µ</a>
</li>
	<li class="cat-item cat-item-65"><a href="http://blog.fens.me/category/it%e7%9b%b8%e5%85%b3%e7%9f%a5%e8%af%86/" >ITç›¸å…³çŸ¥è¯†</a>
</li>
	<li class="cat-item cat-item-55"><a href="http://blog.fens.me/category/javascript%e8%af%ad%e8%a8%80%e5%ae%9e%e8%b7%b5/" >Javascriptè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://blog.fens.me/category/java-lang/" >JAVAè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://blog.fens.me/category/r-lang/" >Rè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-217"><a href="http://blog.fens.me/category/seo%e4%bc%98%e5%8c%96/" >SEOä¼˜åŒ–</a>
</li>
	<li class="cat-item cat-item-356"><a href="http://blog.fens.me/category/%e5%85%b6%e4%bb%96%e8%af%ad%e8%a8%80/" >å…¶ä»–è¯­è¨€</a>
</li>
	<li class="cat-item cat-item-774"><a href="http://blog.fens.me/category/%e5%88%9b%e4%b8%9a/" >åˆ›ä¸š</a>
</li>
	<li class="cat-item cat-item-233"><a href="http://blog.fens.me/category/%e5%8f%af%e8%a7%86%e5%8c%96%e6%8a%80%e6%9c%af/" >å¯è§†åŒ–æŠ€æœ¯</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://blog.fens.me/category/%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f/" >æ“ä½œç³»ç»Ÿ</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://blog.fens.me/category/%e6%95%b0%e6%8d%ae%e5%ba%93/" >æ•°æ®åº“</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://blog.fens.me/category/%e6%95%b0%e6%8d%ae%e6%8c%96%e6%8e%98/" >æ•°æ®æŒ–æ˜</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://blog.fens.me/category/%e6%99%92%e7%b2%89%e4%b8%9d/" >æ™’ç²‰ä¸</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://blog.fens.me/category/%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1/" >æ¶æ„è®¾è®¡</a>
</li>
	<li class="cat-item cat-item-113"><a href="http://blog.fens.me/category/%e6%b4%bb%e5%8a%a8%e8%81%9a%e4%bc%9a/" >æ´»åŠ¨èšä¼š</a>
</li>
	<li class="cat-item cat-item-598"><a href="http://blog.fens.me/category/%e6%b8%b8%e6%88%8f/" >æ¸¸æˆ</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://blog.fens.me/category/%e7%a8%8b%e5%ba%8f%e7%ae%97%e6%b3%95/" >ç¨‹åºç®—æ³•</a>
</li>
	<li class="cat-item cat-item-117"><a href="http://blog.fens.me/category/%e7%bd%91%e7%bb%9c%e6%8a%80%e6%9c%af/" >ç½‘ç»œæŠ€æœ¯</a>
</li>
	<li class="cat-item cat-item-76"><a href="http://blog.fens.me/category/%e8%99%9a%e6%8b%9f%e5%8c%96%e5%ae%9e%e8%b7%b5/" >è™šæ‹ŸåŒ–å®è·µ</a>
</li>
	<li class="cat-item cat-item-184"><a href="http://blog.fens.me/category/%e9%87%91%e8%9e%8d/" >é‡‘è</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://blog.fens.me/category/%e9%9d%a2%e8%af%95/" >é¢è¯•</a>
</li>
	<li class="cat-item cat-item-44"><a href="http://blog.fens.me/category/%e9%bb%91%e5%ae%a2%e6%94%bb%e9%98%b2/" >é»‘å®¢æ”»é˜²</a>
</li>
          </ul>		
        </li>
                <li id="twitterWidget" class="widget png_scale">	
          <div id="twitter">
            <h2 class="blocktitle"><span>Twitter Updates</span></h2>		<ul id="twitter_update_list"><li></li></ul>
            <!--<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>-->
            <!--<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/nattywp.json?callback=twitterCallback2&amp;count=1"></script>-->
            <div class="dasheddivider"></div>
            <p align="right"><a href="http://www.twitter.com/nattywp/" class="rightlink png_crop">Follow us on Twitter</a></p>
        </div>
        </li>   
           
    </ul>
  </div>
  <a id="control" href="#">+</a>
</div>

<div id="main-wrapper">
<div id="header">
  <div class="wrapper">
    <div class="triangle"></div>
    <div class="logo-block">
    <div class="logo">
    <ul><li><a class="logo-title shadowed" href="http://blog.fens.me" rel="home" title="ç²‰ä¸æ—¥å¿—">ç²‰ä¸æ—¥å¿—</a></li></ul> 
    </div>
  <div class="tagline">è·¨ç•Œçš„ITåšå®¢|Hadoopå®¶æ—, R, RHadoop, Nodejs, AngularJS, NoSQL, ITé‡‘è</div></div>
  
    <div class="clear"></div>
  </div>
</div>

<div id="cnt" class="wrapper">
  <div class="top">
    <ul id="crumbs"><li class="first"><a href="http://blog.fens.me" id="home-img"></a></li><li><a href="http://blog.fens.me/category/javascript%e8%af%ad%e8%a8%80%e5%ae%9e%e8%b7%b5/">Javascriptè¯­è¨€å®è·µ</a> &raquo; </li><li>Node.jsç¼“å†²æ¨¡å—Buffer</li></ul><div style="float:right;margin-right:10px;font-size:14px;"><ul style="list-style-type: none;"><li style="list-style-type: none;float: left;line-height: 24px;margin: 0 7px;"><a href="http://www.fens.me/" target="_blank">@æ™’ç²‰ä¸</a></li><li style="list-style-type: none;float: left;line-height: 24px;margin: 0 7px;"><a href="http://apps.weibo.com/chinaweatherapp" target="_blank">@æ¯æ—¥ä¸­å›½å¤©æ°”</a></li></ul></div>    <div class="clear"></div>            
  </div> <!-- END top -->


<!-- END Header --><div class="narrowcolumn singlepage">
              <div class="post-7813 post type-post status-publish format-standard hentry category-javascript tag-buffer tag-javascript tag-nodejs tag-string">
         <div class="post-meta">
          <a href="http://blog.fens.me/nodejs-buffer/" title="Node.jsç¼“å†²æ¨¡å—Buffer" class="ms"></a>
          <h5>Posted:</h5>
          <span class="date">Mar 4, 2015</span>
          <h5>Tags:</h5><div class="tags"><a href="http://blog.fens.me/tag/buffer/" rel="tag">buffer</a><a href="http://blog.fens.me/tag/javascript/" rel="tag">Javascript</a><a href="http://blog.fens.me/tag/nodejs/" rel="tag">nodejs</a><a href="http://blog.fens.me/tag/string/" rel="tag">string</a></div>          <h5>Comments:</h5>
          <span class="comment"><a href="http://blog.fens.me/nodejs-buffer/#comments"><span class="dsq-postid" data-dsqidentifier="7813 http://blog.fens.me/?p=7813">3 Comments</span></a></span>
                   </div>
         
         <div class="p-cont">
            <h2>Node.jsç¼“å†²æ¨¡å—Buffer</h2>
            <div class="entry">
                            <p><a title="ä»é›¶å¼€å§‹nodejsç³»åˆ—æ–‡ç« " href="http://blog.fens.me/series-nodejs/" target="_blank">ä»é›¶å¼€å§‹nodejsç³»åˆ—æ–‡ç« </a>ï¼Œå°†ä»‹ç»å¦‚ä½•åˆ©Javascriptåšä¸ºæœåŠ¡ç«¯è„šæœ¬ï¼Œé€šè¿‡Nodejsæ¡†æ¶webå¼€å‘ã€‚Nodejsæ¡†æ¶æ˜¯åŸºäºV8çš„å¼•æ“ï¼Œæ˜¯ç›®å‰é€Ÿåº¦æœ€å¿«çš„Javascriptå¼•æ“ã€‚chromeæµè§ˆå™¨å°±åŸºäºV8ï¼ŒåŒæ—¶æ‰“å¼€20-30ä¸ªç½‘é¡µéƒ½å¾ˆæµç•…ã€‚Nodejsæ ‡å‡†çš„webå¼€å‘æ¡†æ¶Expressï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿…é€Ÿå»ºç«‹webç«™ç‚¹ï¼Œæ¯”èµ·PHPçš„å¼€å‘æ•ˆç‡æ›´é«˜ï¼Œè€Œä¸”å­¦ä¹ æ›²çº¿æ›´ä½ã€‚éå¸¸é€‚åˆå°å‹ç½‘ç«™ï¼Œä¸ªæ€§åŒ–ç½‘ç«™ï¼Œæˆ‘ä»¬è‡ªå·±çš„Geekç½‘ç«™ï¼ï¼</p>
<p><strong>å…³äºä½œè€…</strong></p>
<ul>
<li>å¼ ä¸¹(Conan), åˆ›ä¸šè€…ï¼Œç¨‹åºå‘˜(Java,R,Javascript/Nodejs)</li>
<li>weiboï¼š@Conan_Z</li>
<li>blog:Â <a title="ç²‰ä¸æ—¥å¿—|è·¨ç•Œçš„ITåšå®¢" href="http://blog.fens.me/" target="_blank">http://blog.fens.me</a></li>
<li>email: bsspirit@gmail.com</li>
</ul>
<p><strong>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š</strong><br />
<a title="Node.jsç¼“å†²æ¨¡å—Buffer" href="http://blog.fens.me/nodejs-buffer/" target="_blank">http://blog.fens.me/nodejs-buffer/</a></p>
<p><a href="http://blog.fens.me/wp-content/uploads/2015/03/buffer.png"><img src="http://blog.fens.me/wp-content/uploads/2015/03/buffer.png" alt="buffer" width="600" height="400" class="alignnone size-full wp-image-7844" /></a></p>
<p><strong>å‰è¨€</strong></p>
<p>Javascriptæ˜¯ä¸ºæµè§ˆå™¨è€Œè®¾è®¡çš„ï¼Œèƒ½å¾ˆå¥½çš„å¤„ç†unicodeç¼–ç çš„å­—ç¬¦ä¸²ï¼Œä½†å¯¹äºäºŒè¿›åˆ¶æˆ–éunicodeç¼–ç çš„æ•°æ®å°±æ˜¾å¾—æ— èƒ½ä¸ºåŠ›ã€‚Node.jsç»§æ‰¿Javascriptçš„è¯­è¨€ç‰¹æ€§ï¼ŒåŒæ—¶åˆæ‰©å±•äº†Javascriptè¯­è¨€ï¼Œä¸ºäºŒè¿›åˆ¶çš„æ•°æ®å¤„ç†æä¾›äº†Bufferç±»ï¼Œè®©Node.jså¯ä»¥åƒå…¶ä»–ç¨‹åºè¯­è¨€ä¸€æ ·ï¼Œèƒ½å¤„ç†å„ç§ç±»å‹çš„æ•°æ®äº†ã€‚</p>
<p>ç½‘ä¸Šæœ‰å¾ˆå¤šè®²Bufferçš„æ–‡ç« ï¼Œå¤§éƒ½è®²çš„æ˜¯åŸç†ï¼Œæ€ä¹ˆä½¿ç”¨å‡ ä¹æ‰¾ä¸åˆ°ï¼Œæ–‡ç« å°†é‡ç‚¹ä»‹ç»Bufferçš„ä½¿ç”¨ã€‚</p>
<p><strong>ç›®å½•</strong></p>
<ol>
<li>Bufferä»‹ç»</li>
<li>Bufferçš„åŸºæœ¬ä½¿ç”¨</li>
<li>Bufferçš„æ€§èƒ½æµ‹è¯•</li>
</ol>
<h2>1. Bufferä»‹ç»</h2>
<p>åœ¨Node.jsä¸­ï¼ŒBufferç±»æ˜¯éšNodeå†…æ ¸ä¸€èµ·å‘å¸ƒçš„æ ¸å¿ƒåº“ã€‚Bufferåº“ä¸ºNode.jså¸¦æ¥äº†ä¸€ç§å­˜å‚¨åŸå§‹æ•°æ®çš„æ–¹æ³•ï¼Œå¯ä»¥è®©Nodejså¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œæ¯å½“éœ€è¦åœ¨Nodejsä¸­å¤„ç†I/Oæ“ä½œä¸­ç§»åŠ¨çš„æ•°æ®æ—¶ï¼Œå°±æœ‰å¯èƒ½ä½¿ç”¨Bufferåº“ã€‚åŸå§‹æ•°æ®å­˜å‚¨åœ¨ Buffer ç±»çš„å®ä¾‹ä¸­ã€‚ä¸€ä¸ª Buffer ç±»ä¼¼äºä¸€ä¸ªæ•´æ•°æ•°ï¿½ï¿½ï¿½ï¼Œä½†å®ƒå¯¹åº”äº V8 å †å†…å­˜ä¹‹å¤–çš„ä¸€å—åŸå§‹å†…å­˜ã€‚</p>
<p>Buffer å’Œ Javascript å­—ç¬¦ä¸²å¯¹è±¡ä¹‹é—´çš„è½¬æ¢éœ€è¦æ˜¾å¼åœ°è°ƒç”¨ç¼–ç æ–¹æ³•æ¥å®Œæˆã€‚ä»¥ä¸‹æ˜¯å‡ ç§ä¸åŒçš„å­—ç¬¦ä¸²ç¼–ç ï¼š</p>
<ul>
<li>&#8216;ascii&#8217; &#8211; ä»…ç”¨äº 7 ä½ ASCII å­—ç¬¦ã€‚è¿™ç§ç¼–ç æ–¹æ³•éå¸¸å¿«ï¼Œå¹¶ä¸”ä¼šä¸¢å¼ƒé«˜ä½æ•°æ®ã€‚</li>
<li>&#8216;utf8&#8217; &#8211; å¤šå­—èŠ‚ç¼–ç çš„ Unicode å­—ç¬¦ã€‚è®¸å¤šç½‘é¡µå’Œå…¶ä»–æ–‡ä»¶æ ¼å¼ä½¿ç”¨ UTF-8ã€‚</li>
<li>&#8216;ucs2&#8217; &#8211; ä¸¤ä¸ªå­—èŠ‚ï¼Œä»¥å°å°¾å­—èŠ‚åº(little-endian)ç¼–ç çš„ Unicode å­—ç¬¦ã€‚å®ƒåªèƒ½å¯¹ BMPï¼ˆåŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ŒU+0000 &#8211; U+FFFFï¼‰ èŒƒå›´å†…çš„å­—ç¬¦ç¼–ç ã€‚</li>
<li>&#8216;base64&#8217; &#8211; Base64 å­—ç¬¦ä¸²ç¼–ç ã€‚</li>
<li>&#8216;binary&#8217; &#8211; ä¸€ç§å°†åŸå§‹äºŒè¿›åˆ¶æ•°æ®è½¬æ¢æˆå­—ç¬¦ä¸²çš„ç¼–ç æ–¹å¼ï¼Œä»…ä½¿ç”¨æ¯ä¸ªå­—ç¬¦çš„å‰ 8 ä½ã€‚è¿™ç§ç¼–ç æ–¹æ³•å·²ç»è¿‡æ—¶ï¼Œåº”å½“å°½å¯èƒ½åœ°ä½¿ç”¨ Buffer å¯¹è±¡ã€‚Node çš„åç»­ç‰ˆæœ¬å°†ä¼šåˆ é™¤è¿™ç§ç¼–ç ã€‚</li>
</ul>
<p>Bufferå®˜æ–¹æ–‡æ¡£ï¼š<a href="http://nodejs.org/api/buffer.html" target="_blank" ref="nofollow">http://nodejs.org/api/buffer.html</a></p>
<h2>2. Bufferçš„åŸºæœ¬ä½¿ç”¨</h2>
<p>Bufferçš„åŸºæœ¬ä½¿ç”¨ï¼Œä¸»è¦å°±æ˜¯APIæ‰€æä¾›çš„æ“ä½œï¼Œä¸»è¦åŒ…æ‹¬3ä¸ªéƒ¨åˆ† åˆ›å»ºBufferç±»ã€è¯»Bufferã€å†™Bufferã€‚ç”±äºåŸºæœ¬æ“ä½œåœ¨å®˜æ–¹æ–‡æ¡£ä¸­è¯¦ç»†çš„ä½¿ç”¨ä»‹ç»ï¼Œæˆ‘åªæ˜¯ç®€å•åˆ—ä¸¾ä¸€ä¸‹ã€‚</p>
<p>ç³»ç»Ÿç¯å¢ƒ</p>
<ul>
<li>Win7 64bit</li>
<li>Nodejs:v0.10.31</li>
<li>Npm:1.4.23</li>
</ul>
<p>åˆ›å»ºé¡¹ç›®</p>
<pre><code>
~ cd D:\workspace\javascript>
~ D:\workspace\javascript>mkdir nodejs-buffer && cd nodejs-buffer
</code></pre>
<p><strong>2.1 åˆ›å»ºBufferç±»</strong></p>
<p>è¦åˆ›å»ºä¸€ä¸ªBufferçš„å®ä¾‹ï¼Œæˆ‘ä»¬è¦é€šè¿‡new Bufferæ¥åˆ›å»ºã€‚æ–°å»ºæ–‡ä»¶buffer_new.jsã€‚</p>
<pre><code>
~ vi buffer_new.js

// é•¿åº¦ä¸º0çš„Bufferå®ä¾‹
var a = new Buffer(0);
console.log(a);
&gt; &lt;Buffer &gt;

// é•¿åº¦ä¸º0çš„Bufferå®ä¾‹ç›¸åŒï¼Œa1,a2æ˜¯ä¸€ä¸ªå®ä¾‹
var a2 = new Buffer(0);
console.log(a2);
&gt; &lt;Buffer &gt;

// é•¿åº¦ä¸º10çš„Bufferå®ä¾‹
var a10 = new Buffer(10);
console.log(a10);
&gt; &lt;Buffer 22 37 02 00 00 00 00 04 00 00&gt;

// æ•°ç»„
var b = new Buffer(['a','b',12])
console.log(b);
&gt; &lt;Buffer 00 00 0c&gt;

// å­—ç¬¦ç¼–ç 
var b2 = new Buffer('ä½ å¥½','utf-8');
console.log(b2);
&gt; &lt;Buffer e4 bd a0 e5 a5 bd&gt;
</code></pre>
<p>Bufferç±»æœ‰5ä¸ªç±»æ–¹æ³•ï¼Œç”¨äºBufferç±»çš„è¾…åŠ©æ“ä½œã€‚</p>
<p>1) ç¼–ç æ£€æŸ¥ï¼Œä¸Šæ–‡ä¸­æåˆ°Bufferå’ŒJavascriptå­—ç¬¦ä¸²è½¬æ¢æ—¶ï¼Œéœ€è¦æ˜¾å¼çš„è®¾ç½®ç¼–ç ï¼Œé‚£ä¹ˆè¿™å‡ ç§ç¼–ç ç±»å‹æ˜¯Bufferæ‰€æ”¯æŒçš„ã€‚åƒä¸­æ–‡å¤„ç†åªèƒ½ä½¿ç”¨utf-8ç¼–ç ï¼Œå¯¹äºå‡ å¹´å‰å¸¸ç”¨çš„gbkï¼Œgb2312ç­‰ç¼–ç æ˜¯æ— æ³•è§£æçš„ã€‚</p>
<pre><code>
// æ”¯æŒçš„ç¼–ç 
console.log(Buffer.isEncoding('utf-8'))
console.log(Buffer.isEncoding('binary'))
console.log(Buffer.isEncoding('ascii'))
console.log(Buffer.isEncoding('ucs2'))
console.log(Buffer.isEncoding('base64'))
console.log(Buffer.isEncoding('hex'))  # 16åˆ¶è¿›
> true

//ä¸æ”¯æŒçš„ç¼–ç 
console.log(Buffer.isEncoding('gbk'))
console.log(Buffer.isEncoding('gb2312'))
> false
</code></pre>
<p>2) Bufferæ£€æŸ¥ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦åˆ¤æ–­æ•°æ®çš„ç±»å‹ï¼Œå¯¹åº”åç»­çš„æ“ä½œã€‚</p>
<pre><code>
// æ˜¯Bufferç±»
console.log(Buffer.isBuffer(new Buffer('a')))
> true

// ä¸æ˜¯Buffer
console.log(Buffer.isBuffer('adfd'))
console.log(Buffer.isBuffer('\u00bd\u00bd'))
> false
</code></pre>
<p>3) å­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦ï¼Œç”±äºå­—ç¬¦ä¸²ç¼–ç ä¸åŒï¼Œæ‰€ä»¥å­—ç¬¦ä¸²é•¿åº¦å’Œå­—èŠ‚é•¿åº¦æœ‰æ—¶æ˜¯ä¸ä¸€æ ·çš„ã€‚æ¯”å¦‚ï¼Œ1ä¸ªä¸­æ–‡å­—ç¬¦æ˜¯3ä¸ªå­—èŠ‚ï¼Œé€šè¿‡utf-8ç¼–ç è¾“å‡ºå°±æ˜¯4ä¸ªä¸­æ–‡å­—ç¬¦ï¼Œå 12ä¸ªå­—èŠ‚ã€‚</p>
<pre><code>
var str2 = 'ç²‰ä¸æ—¥å¿—';
console.log(str2 + ": " + str2.length + " characters, " + Buffer.byteLength(str2, 'utf8') + " bytes");
> ç²‰ä¸æ—¥å¿—: 4 characters, 12 bytes
console.log(str2 + ": " + str2.length + " characters, " + Buffer.byteLength(str2, 'ascii') + " bytes");
> ç²‰ä¸æ—¥å¿—: 4 characters, 4 bytes
</code></pre>
<p>4) Bufferçš„è¿æ¥ï¼Œç”¨äºè¿æ¥Bufferçš„æ•°ç»„ã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ†é…Bufferå¯¹è±¡åˆå¹¶åçš„Bufferç©ºé—´å¤§å°ï¼Œå¦‚æœBufferç©ºé—´ä¸å¤Ÿäº†ï¼Œåˆ™æ•°æ®ä¼šè¢«æˆªæ–­ã€‚</p>
<pre><code>
var b1 = new Buffer("abcd");
var b2 = new Buffer("1234");
var b3 = Buffer.concat([b1,b2],8);
console.log(b3.toString());
> abcd1234

var b4 = Buffer.concat([b1,b2],32);
console.log(b4.toString());
console.log(b4.toString('hex'));//16è¿›åˆ¶è¾“å‡º
> abcd1234 ä¹±ç ....
> 616263643132333404000000000000000000000000000000082a330200000000

var b5 = Buffer.concat([b1,b2],4);
console.log(b5.toString());
> abcd
</code></pre>
<p>ç¨‹åºè¿è¡Œçš„æˆªå›¾<br />
<a href="http://blog.fens.me/wp-content/uploads/2015/03/buffer_concat.png"><img src="http://blog.fens.me/wp-content/uploads/2015/03/buffer_concat.png" alt="buffer_concat" width="613" height="99" class="alignnone size-full wp-image-7823" /></a></p>
<p>5) Bufferçš„æ¯”è¾ƒï¼Œç”¨äºBufferçš„å†…å®¹æ’åºï¼ŒæŒ‰å­—ç¬¦ä¸²çš„é¡ºåºã€‚</p>
<pre><code>
var a1 = new Buffer('10');
var a2 = new Buffer('50');
var a3 = new Buffer('123');

// a1å°äºa2
console.log(Buffer.compare(a1,a2));
&gt; -1

// a2å°äºa3
console.log(Buffer.compare(a2,a3));
&gt; 1

// a1,a2,a3æ’åºè¾“å‡º
console.log([a1,a2,a3].sort(Buffer.compare));
&gt; [ &lt;Buffer 31 30&gt;, &lt;Buffer 31 32 33&gt;, &lt;Buffer 35 30&gt; ]

// a1,a2,a3æ’åºè¾“å‡ºï¼Œä»¥utf-8çš„ç¼–ç è¾“å‡º
console.log([a1,a2,a3].sort(Buffer.compare).toString());
&gt; 10,123,50
</code></pre>
<p><strong>2.2 å†™å…¥Buffer</strong></p>
<p>æŠŠï¿½ï¿½ï¿½æ®å†™å…¥åˆ°Bufferçš„æ“ä½œï¼Œæ–°å»ºæ–‡ä»¶buffer_write.jsã€‚</p>
<pre><code>
~ vi buffer_write.js

//////////////////////////////
// Bufferå†™å…¥
//////////////////////////////

// åˆ›å»ºç©ºé—´å¤§å°ä¸º64å­—èŠ‚çš„Buffer
var buf = new Buffer(64);

// ä»å¼€å§‹å†™å…¥Bufferï¼Œåç§»0
var len1 = buf.write('ä»å¼€å§‹å†™å…¥');

// æ‰“å°æ•°æ®çš„é•¿åº¦ï¼Œæ‰“å°Bufferçš„0åˆ°len1ä½ç½®çš„æ•°æ®
console.log(len1 + " bytes: " + buf.toString('utf8', 0, len1));

// é‡æ–°å†™å…¥Bufferï¼Œåç§»0ï¼Œå°†è¦†ç›–ä¹‹å‰çš„Bufferå†…å­˜
len1 = buf.write('é‡æ–°å†™å…¥');
console.log(len1 + " bytes: " + buf.toString('utf8', 0, len1));

// ç»§ç»­å†™å…¥Bufferï¼Œåç§»len1ï¼Œå†™å…¥unicodeçš„å­—ç¬¦ä¸²
var len2 = buf.write('\u00bd + \u00bc = \u00be',len1);
console.log(len2 + " bytes: " + buf.toString('utf8', 0, len1+len2));

// ç»§ç»­å†™å…¥Bufferï¼Œåç§»30
var len3 = buf.write('ä»ç¬¬30ä½å†™å…¥', 30);
console.log(len3 + " bytes: " + buf.toString('utf8', 0, 30+len3));

// Bufferæ€»é•¿åº¦å’Œæ•°æ®
console.log(buf.length + " bytes: " + buf.toString('utf8', 0, buf.length));

// ç»§ç»­å†™å…¥Bufferï¼Œåç§»30+len3
var len4 = buf.write('å†™å…¥çš„æ•°æ®é•¿åº¦è¶…è¿‡Bufferçš„æ€»é•¿åº¦ï¼',30+len3);

// è¶…è¿‡Bufferç©ºé—´çš„æ•°æ®ï¼Œæ²¡æœ‰è¢«å†™å…¥åˆ°Bufferä¸­
console.log(buf.length + " bytes: " + buf.toString('utf8', 0, buf.length));
</code></pre>
<p><a href="http://blog.fens.me/wp-content/uploads/2015/03/buffer_write.png"><img src="http://blog.fens.me/wp-content/uploads/2015/03/buffer_write.png" alt="buffer_write" width="541" height="117" class="alignnone size-full wp-image-7828" /></a></p>
<p>Node.jsçš„èŠ‚ç‚¹çš„ç¼“å†²åŒºï¼Œæ ¹æ®è¯»å†™æ•´æ•°çš„èŒƒå›´ï¼Œæä¾›äº†ä¸åŒå®½åº¦çš„æ”¯æŒï¼Œä½¿ä»1åˆ°8ä¸ªå­—èŠ‚ï¼ˆ8ä½ã€16ä½ã€32ä½ï¼‰çš„æ•´æ•°ã€æµ®ç‚¹æ•°(float)ã€åŒç²¾åº¦æµ®ç‚¹æ•°(double)å¯ä»¥è¢«è®¿é—®ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒçš„writeXXX()å‡½æ•°ï¼Œä½¿ç”¨æ–¹æ³•ä¸buf.write()ç±»ä¼¼ã€‚</p>
<pre><code>
buf.write(string[, offset][, length][, encoding])
buf.writeUIntLE(value, offset, byteLength[, noAssert])
buf.writeUIntBE(value, offset, byteLength[, noAssert])
buf.writeIntLE(value, offset, byteLength[, noAssert])
buf.writeIntBE(value, offset, byteLength[, noAssert])
buf.writeUInt8(value, offset[, noAssert])
buf.writeUInt16LE(value, offset[, noAssert])
buf.writeUInt16BE(value, offset[, noAssert])
buf.writeUInt32LE(value, offset[, noAssert])
buf.writeUInt32BE(value, offset[, noAssert])
buf.writeInt8(value, offset[, noAssert])
buf.writeInt16LE(value, offset[, noAssert])
buf.writeInt16BE(value, offset[, noAssert])
buf.writeInt32LE(value, offset[, noAssert])
buf.writeInt32BE(value, offset[, noAssert])
buf.writeFloatLE(value, offset[, noAssert])
buf.writeFloatBE(value, offset[, noAssert])
buf.writeDoubleLE(value, offset[, noAssert])
buf.writeDoubleBE(value, offset[, noAssert])
</code></pre>
<p>å¦å¤–ï¼Œå…³äºBufferå†™å…¥æ“ä½œï¼Œè¿˜æœ‰ä¸€äº›Bufferç±»çš„åŸå‹å‡½æ•°å¯ä»¥æ“ä½œã€‚</p>
<p>Bufferå¤åˆ¶å‡½æ•° buf.copy(targetBuffer[, targetStart][, sourceStart][, sourceEnd])ã€‚</p>
<pre><code>
// æ–°å»ºä¸¤ä¸ªBufferå®ä¾‹
var buf1 = new Buffer(26);
var buf2 = new Buffer(26);

// åˆ†åˆ«å‘2ä¸ªå®ä¾‹ä¸­å†™å…¥æ•°æ®
for (var i = 0 ; i < 26 ; i++) {
    buf1[i] = i + 97; // 97æ˜¯ASCIIçš„a
    buf2[i] = 50; // 50æ˜¯ASCIIçš„2
}

// æŠŠbuf1çš„å†…å­˜å¤åˆ¶ç»™buf2
buf1.copy(buf2, 5, 0, 10); // ä»buf2çš„ç¬¬5ä¸ªå­—èŠ‚ä½ç½®å¼€å§‹æ’å…¥ï¼Œå¤åˆ¶buf1çš„ä»0-10å­—èŠ‚çš„æ•°æ®åˆ°buf2ä¸­
console.log(buf2.toString('ascii', 0, 25)); // è¾“å…¥buf2çš„0-25å­—èŠ‚
> 22222abcdefghij2222222222
</code></pre>
<p>Bufferå¡«å……å‡½æ•° buf.fill(value[, offset][, end])ã€‚</p>
<pre><code>
// æ–°å»ºBufferå®ä¾‹ï¼Œé•¿åº¦20èŠ‚èŠ‚
var buf = new Buffer(20);

// å‘Bufferä¸­å¡«å……æ•°æ®
buf.fill("h");
console.log(buf)
> &lt;Buffer 68 68 68 68 68 68 68 68 68 68 68 68 68 68 68 68 68 68 68 68&gt;
console.log("buf:"+buf.toString())
> buf:hhhhhhhhhhhhhhhhhhhh
// æ¸…ç©ºBufferä¸­çš„æ•°æ®
buf.fill();
console.log("buf:"+buf.toString())
> buf:
</code></pre>
<p>Bufferè£å‰ªï¼Œbuf.slice([start][, end])ã€‚è¿”å›ä¸€ä¸ªæ–°çš„ç¼“å†²åŒºï¼Œå®ƒå’Œæ—§ç¼“å†²åŒºæŒ‡å‘åŒä¸€å—å†…å­˜ï¼Œä½†æ˜¯ä»ç´¢å¼• start åˆ° end çš„ä½ç½®å‰ªè£ã€‚</p>
<pre><code>
var buf1 = new Buffer(26);
for (var i = 0 ; i < 26 ; i++) {
    buf1[i] = i + 97;
}

// ä»å‰ªåˆ‡buf1ä¸­çš„0-3çš„ä½ç½®çš„å­—èŠ‚ï¼Œæ–°ç”Ÿæˆçš„buf2æ˜¯buf1çš„ä¸€ä¸ªåˆ‡ç‰‡ã€‚
var buf2 = buf1.slice(0, 3);
console.log(buf2.toString('ascii', 0, buf2.length));
> abc

// å½“ä¿®æ”¹buf1æ—¶ï¼Œbuf2åŒæ—¶ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜
buf1[0] = 33;
console.log(buf2.toString('ascii', 0, buf2.length));
> !bc
</code></pre>
<p><strong>2.3 è¯»å–Buffer</strong></p>
<p>æˆ‘ä»¬æŠŠæ•°æ®å†™å…¥Bufferåï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠæ•°æ®ä»Bufferä¸­è¯»å‡ºæ¥ï¼Œæ–°å»ºæ–‡ä»¶buffer_read.jsã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡readXXX()å‡½æ•°è·å¾—å¯¹åº”è¯¥å†™å…¥æ—¶ç¼–ç çš„ç´¢å¼•å€¼ï¼Œå†è½¬æ¢åŸå§‹å€¼å–å‡ºï¼Œæœ‰è¿™ç§æ–¹æ³•æ“ä½œä¸­æ–‡å­—ç¬¦å°±ä¼šå˜å¾—éº»çƒ¦ï¼Œæœ€å¸¸ç”¨çš„è¯»å–Bufferçš„æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯toString()ã€‚</p>
<pre><code>
~ vi buffer_read.js

//////////////////////////////
// Buffer è¯»å–
//////////////////////////////

var buf = new Buffer(10);
for (var i = 0 ; i < 10 ; i++) {
    buf[i] = i + 97;
}
console.log(buf.length + " bytes: " + buf.toString('utf-8'));
> 10 bytes: abcdefghij

// è¯»å–æ•°æ®
for (ii = 0; ii < buf.length; ii++) {
    var ch = buf.readUInt8(ii); // è·å¾—ASCIIç´¢å¼•
    console.log(ch + ":"+ String.fromCharCode(ch));
}
> 97:a
98:b
99:c
100:d
101:e
102:f
103:g
104:h
105:i
106:j
</code></pre>
<p>å†™å…¥ä¸­æ–‡æ•°æ®ï¼Œä»¥readXXXè¿›è¡Œè¯»å–ï¼Œä¼š3ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºä¸€ä¸ªä¸­æ–‡å­—ã€‚</p>
<pre><code>
var buf = new Buffer(10);
buf.write('abcd')
buf.write('æ•°æ®',4)
for (var i = 0; i < buf.length; i++) {
    console.log(buf.readUInt8(i));
}

>97
98
99
100
230  // 230,149,176 ä»£è¡¨â€œæ•°â€
149
176
230  // 230,141,174 ä»£è¡¨â€œæ®â€
141
174 
</code></pre>
<p>å¦‚æœæƒ³è¾“å‡ºæ­£ç¡®çš„ä¸­æ–‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨toString(&#8216;utf-8&#8217;)çš„å‡½æ•°æ¥æ“ä½œã€‚</p>
<pre><code>
console.log("buffer :"+buf); // é»˜è®¤è°ƒç”¨äº†toString()çš„å‡½æ•°
> buffer :abcdæ•°æ®
console.log("utf-8  :"+buf.toString('utf-8'));
> utf-8  :abcdæ•°æ®
console.log("ascii  :"+buf.toString('ascii'));//æœ‰ä¹±ç ï¼Œä¸­æ–‡ä¸èƒ½è¢«æ­£ç¡®è§£æ
> ascii  :abcdf0f
.
console.log("hex    :"+buf.toString('hex')); //16è¿›åˆ¶
> hex    :61626364e695b0e68dae
</code></pre>
<p>å¯¹äºBufferçš„è¾“å‡ºï¼Œæˆ‘ä»¬ç”¨çš„æœ€å¤šçš„æ“ä½œå°±æ˜¯toString()ï¼ŒæŒ‰ç…§å­˜å…¥çš„ç¼–ç è¿›è¡Œè¯»å–ã€‚é™¤äº†toString()å‡½æ•°ï¼Œè¿˜å¯ä»¥ç”¨toJSON()ç›´æ¥Bufferè§£ææˆJSONå¯¹è±¡ã€‚</p>
<pre><code>
var buf = new Buffer('test');
console.log(buf.toJSON());
> { type: 'Buffer', data: [ 116, 101, 115, 116 ] }
</code></pre>
<h2>3. Bufferçš„æ€§èƒ½æµ‹è¯•</h2>
<p>é€šè¿‡ä¸Šæ–‡ä¸­å¯¹Bufferçš„ä»‹ç»ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†Bufferçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å¼€å§‹åšBufferåšä¸€äº›æµ‹è¯•ã€‚</p>
<p><strong>3.1 8Kçš„åˆ›å»ºæµ‹è¯•</strong></p>
<p>æ¯æ¬¡æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„Bufferå®ä¾‹æ—¶ï¼Œéƒ½ä¼šæ£€æŸ¥å½“å‰Bufferçš„å†…å­˜æ± æ˜¯å¦å·²ç»æ»¡ï¼Œå½“å‰å†…å­˜æ± å¯¹äºæ–°å»ºçš„Bufferå®ä¾‹æ˜¯å…±äº«çš„ï¼Œå†…å­˜æ± çš„å¤§å°ä¸º8Kã€‚</p>
<p>å¦‚æœæ–°åˆ›å»ºçš„Bufferå®ä¾‹å¤§äº8Kæ—¶ï¼Œå°±æŠŠBufferäº¤ç»™SlowBufferå®ä¾‹å­˜å‚¨ï¼›å¦‚æœæ–°åˆ›å»ºçš„Bufferå®ä¾‹å°äº8Kï¼ŒåŒæ—¶å°äºå½“å‰å†…å­˜æ± çš„å‰©ä½™ç©ºé—´ï¼Œé‚£ä¹ˆè¿™ä¸ªBufferå­˜å…¥å½“å‰çš„å†…å­˜æ± ï¼›å¦‚æœBufferå®ä¾‹ä¸å¤§0ï¼Œåˆ™ç»Ÿä¸€è¿”å›é»˜è®¤çš„zerobufferå®ä¾‹ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬åˆ›å»º2ä¸ªBufferå®ä¾‹ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä»¥4kä¸ºç©ºé—´ï¼Œç¬¬äºŒä¸ªä»¥4.001kä¸ºç©ºé—´ï¼Œå¾ªç¯åˆ›å»º10ä¸‡æ¬¡ã€‚</p>
<pre><code>
var num = 100*1000;
console.time("test1");
for(var i=0;i&lt;num;i++){
    new Buffer(1024*4);
}
console.timeEnd("test1");
> test1: 132ms

console.time("test2");
for(var j=0;j&lt;num;j++){
    new Buffer(1024*4+1);
}
console.timeEnd("test2");
> test2: 163ms
</code></pre>
<p>ç¬¬äºŒä¸ªä»¥4.001kä¸ºç©ºé—´çš„è€—æ—¶å¤š23%ï¼Œè¿™å°±æ„å‘³ç€ç¬¬äºŒä¸ªï¼Œæ¯äºŒæ¬¡å¾ªç¯å°±è¦é‡æ–°ç”³è¯·ä¸€æ¬¡å†…å­˜æ± çš„ç©ºé—´ã€‚è¿™æ˜¯éœ€è¦æˆ‘ä»¬éå¸¸æ³¨æ„çš„ã€‚</p>
<p><strong>3.2 å¤šBufferè¿˜æ˜¯å•ä¸€Buffer</strong></p>
<p>å½“æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œç¼“å­˜æ—¶ï¼Œåˆ›å»ºå¤šä¸ªå°çš„Bufferå®ä¾‹å¥½ï¼Œè¿˜æ˜¯åˆ›å»ºä¸€ä¸ªå¤§çš„Bufferå®ä¾‹å¥½ï¼Ÿæ¯”å¦‚æˆ‘ä»¬è¦åˆ›å»º1ä¸‡ä¸ªé•¿åº¦åœ¨1-2048ä¹‹é—´ä¸ç­‰çš„å­—ç¬¦ä¸²ã€‚</p>
<pre><code>
var max = 2048;     //æœ€å¤§é•¿åº¦
var time = 10*1000; //å¾ªç¯1ä¸‡æ¬¡

// æ ¹æ®é•¿åº¦åˆ›å»ºå­—ç¬¦ä¸²
function getString(size){
    var ret = ""
    for(var i=0;i&lt;size;i++) ret += "a";
    return ret;
}

// ç”Ÿæˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œ1ä¸‡æ¡è®°å½•
var arr1=[];
for(var i=0;i&lt;time;i++){
    var size = Math.ceil(Math.random()*max)
    arr1.push(getString(size));
}
//console.log(arr1);

// åˆ›å»º1ä¸‡ä¸ªå°Bufferå®ä¾‹
console.time('test3');
var arr_3 = [];
for(var i=0;i&lt;time;i++){
    arr_3.push(new Buffer(arr1[i]));
}
console.timeEnd('test3');
> test3: 217ms

// åˆ›å»ºä¸€ä¸ªå¤§å®ä¾‹ï¼Œå’Œä¸€ä¸ªoffsetæ•°ç»„ç”¨äºè¯»å–æ•°æ®ã€‚
console.time('test4');
var buf = new Buffer(time*max);
var offset=0;
var arr_4=[];
for(var i=0;i&lt;time;i++){
    arr_4[i]=offset;
    buf.write(arr1[i],offset,arr1[i].length);
    offset=offset+arr1[i].length;
}
console.timeEnd('test4');
> test4: 12ms
</code></pre>
<p>è¯»å–ç´¢å¼•ä¸º2çš„æ•°æ®ã€‚</p>
<pre><code>
console.log("src:[2]="+arr1[2]);
console.log("test3:[2]="+arr_3[2].toString());
console.log("test4:[2]="+buf.toString('utf-8',arr_4[2],arr_4[3]));
</code></pre>
<p>è¿è¡Œç»“æœå¦‚å›¾æ‰€ç¤ºã€‚<br />
<a href="http://blog.fens.me/wp-content/uploads/2015/03/buffer_test.png"><img src="http://blog.fens.me/wp-content/uploads/2015/03/buffer_test.png" alt="buffer_test" width="784" height="255" class="alignnone size-full wp-image-7837" /></a></p>
<p>å¯¹äºè¿™ç±»çš„éœ€æ±‚æ¥è¯´ï¼Œæå‰ç”Ÿæˆä¸€ä¸ªå¤§çš„Bufferå®ä¾‹è¿›è¡Œå­˜å‚¨ï¼Œè¦æ¯”æ¯æ¬¡ç”Ÿæˆå°çš„Bufferå®ä¾‹é«˜æ•ˆçš„å¤šï¼Œèƒ½æå‡ä¸€ä¸ªæ•°é‡çº§çš„è®¡ç®—æ•ˆç‡ã€‚æ‰€ä»¥ï¼Œç†è§£å¹¶ç”¨å¥½Bufferæ˜¯éå¸¸é‡è¦çš„ï¼ï¼</p>
<p><strong>3.3 string VS Buffer</strong></p>
<p>æœ‰äº†Bufferæˆ‘ä»¬æ˜¯å¦éœ€æ±‚æŠŠæ‰€æœ‰Stringçš„è¿æ¥ï¼Œéƒ½æ¢æˆBufferçš„è¿æ¥ï¼Ÿé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦æµ‹è¯•ä¸€ä¸‹ï¼ŒStringå’ŒBufferåšå­—ç¬¦ä¸²è¿æ¥æ—¶ï¼Œå“ªä¸ªæ›´å¿«ä¸€ç‚¹ï¼Ÿ</p>
<p>ä¸‹é¢æˆ‘ä»¬è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ï¼Œå¾ªç¯30ä¸‡æ¬¡ã€‚</p>
<pre><code>
//æµ‹è¯•ä¸‰ï¼ŒBuffer VS string
var time = 300*1000;
var txt = "aaa"

var str = "";
console.time('test5')
for(var i=0;i&lt;time;i++){
    str += txt;
}
console.timeEnd('test5')
> test5: 24ms

console.time('test6')
var buf = new Buffer(time * txt.length)
var offset = 0;
for(var i=0;i&lt;time;i++){
    var end = offset + txt.length;
    buf.write(txt,offset,end);
    offset=end;
}
console.timeEnd('test6')
> test6: 85ms
</code></pre>
<p>ä»æµ‹è¯•ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼ŒStringå¯¹å­—ç¬¦ä¸²çš„è¿æ¥æ“ä½œï¼Œè¦è¿œå¿«äºBufferçš„è¿æ¥æ“ä½œã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨ä¿å­˜å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œè¯¥ç”¨stringè¿˜æ˜¯è¦ç”¨stringã€‚é‚£ä¹ˆåªæœ‰åœ¨ä¿å­˜éutf-8çš„å­—ç¬¦ä¸²ä»¥åŠäºŒè¿›åˆ¶æ•°æ®çš„æƒ…å†µï¼Œæˆ‘ä»¬æ‰ç”¨Bufferã€‚</p>
<h2>6. ç¨‹åºä»£ç </h2>
<p>æœ¬æ–‡çš„ç¨‹åºä»£ç ï¼Œå¯ä»¥ç›´æ¥ä»Githubä¸Šé¢ä¸‹è½½æœ¬æ–‡é¡¹ç›®ä¸­çš„æºä»£ç ï¼ŒæŒ‰ç…§ç‰‡æ–‡ç« ä¸­çš„ä»‹ç»å­¦ä¹ bufferï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://github.com/bsspirit/nodejs-buffer" target="_blank" ref="nofollow">https://github.com/bsspirit/nodejs-buffer</a></p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥ç”¨githubå‘½ä»¤è¡Œæ¥ä¸‹è½½ï¼š</p>
<pre><code>
~ git clone git@github.com:bsspirit/nodejs-buffer.git   # ä¸‹è½½githubé¡¹ç›®
~ cd nodejs-buffer                                      # è¿›å…¥ä¸‹è½½ç›®å½•
</code></pre>
<p>å…³äºNode.jsçš„åº•å±‚ï¼Œæœ¬äººæ¥è§¦å¹¶ä¸å¤šï¼Œæœªèƒ½ä»V8(C++)çš„åšæ›´æ·±å…¥çš„ç ”ç©¶ï¼Œä»…ä»…åœ¨ä½¿ç”¨å±‚æ¬¡ä¸Šï¼Œå†™å‡ºæˆ‘çš„æ€»ç»“ã€‚å¯¹äºæ–‡ä¸­çš„é”™è¯¯æˆ–æè¿°ä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Œè¿˜è¯·å¤§ç‰›äºˆä»¥æŒ‡æ­£ï¼ï¼</p>
<p>å‚è€ƒæ–‡ç« ï¼š</p>
<ul


<li><a href="https://cnodejs.org/topic/5189ff4f63e9f8a54207f60c" target="_blank" ref="nofollow">æµ…ænodejsçš„bufferç±»</a></li>
</ul>
<p><strong>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š</strong><br />
<a title="Node.jsç¼“å†²æ¨¡å—Buffer" href="http://blog.fens.me/nodejs-buffer/" target="_blank">http://blog.fens.me/nodejs-buffer/</a></p>
<p><img src="http://blog.fens.me/wp-content/uploads/2016/04/pay50.png" alt="æ‰“èµä½œè€…" width="600" height="400" class="alignnone size-full wp-image-8388"></p>
              <div class="clear"></div>
                            <p class="inner-meta">This entry was posted in <a href="http://blog.fens.me/category/javascript%e8%af%ad%e8%a8%80%e5%ae%9e%e8%b7%b5/" rel="category tag">Javascriptè¯­è¨€å®è·µ</a></p>              
            </div>
            <!-- å¹¿å‘Š -->
            <div id="ads"></div>        
            <div class="post comments" id="comments">              
                
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-3924">
        <div id="dsq-comment-header-3924" class="dsq-comment-header">
            <cite id="dsq-cite-3924">
                <span id="dsq-author-user-3924">tianyu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3924" class="dsq-comment-body">
            <div id="dsq-comment-message-3924" class="dsq-comment-message"><p>è¯·é—®å¦‚ä½•æŠŠä¸€ä¸ªæ•°å­—å¦‚21.ç”Ÿæˆä¸€ä¸ª4ä¸ªbyteçš„å°å°¾æ®µbufferã€‚å¦‚æŠŠ21 å˜æˆBuffer</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-3927">
        <div id="dsq-comment-header-3927" class="dsq-comment-header">
            <cite id="dsq-cite-3927">
                <span id="dsq-author-user-3927">tianyu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3927" class="dsq-comment-body">
            <div id="dsq-comment-message-3927" class="dsq-comment-message"><p>buf.writeUInt32LE(value, offset[, noAssert])<br />
æ‰¾åˆ°æ–¹æ³•äº†ï¼Œè°¢è°¢</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-3946">
        <div id="dsq-comment-header-3946" class="dsq-comment-header">
            <cite id="dsq-cite-3946">
                <a id="dsq-author-user-3946" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3946" class="dsq-comment-body">
            <div id="dsq-comment-message-3946" class="dsq-comment-message"><p>ğŸ™‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://blog.fens.me/nodejs-buffer/';
var disqus_identifier = '7813 http://blog.fens.me/?p=7813';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'bsspirit';
var disqus_title = "Node.jsç¼“å†²æ¨¡å—Buffer";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=7813';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

            </div>
          </div>
       </div>
    
</div> <!-- END Narrowcolumn -->

<div id="sidebar" class="profile">
 <ul>
<li id="widget_nav_menu" class="widget png_scale"><h2 class="blocktitle"><span>ç«™å†…å¯¼èˆª</span></h2><div class="menu-menu-1-container"><ul id="menu-menu-1" class="menu"><li id="menu-item-2328" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2328"><a href="http://blog.fens.me/series-r/">Rçš„æå®¢ç†æƒ³ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2329" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2329"><a href="http://blog.fens.me/series-nodejs/">ä»é›¶å¼€å§‹nodejsç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2338" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2338"><a href="http://blog.fens.me/series-it-finance/">ç”¨ITæŠ€æœ¯ç©é‡‘èç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-6505" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6505"><a href="http://blog.fens.me/series-meeting/">è·¨ç•ŒçŸ¥è¯†èšä¼šç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2339" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2339"><a href="http://blog.fens.me/series-hadoop-family/">Hadoopå®¶æ—ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2337" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2337"><a href="http://blog.fens.me/series-angular/">AngularJSä½“éªŒå¼ç¼–ç¨‹ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2331" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2331"><a href="http://blog.fens.me/series-rhadoop/">RHadoopå®è·µç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2330" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2330"><a href="http://blog.fens.me/series-java/">æ— æ‰€ä¸èƒ½çš„Javaç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2336" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2336"><a href="http://blog.fens.me/series-ubuntu/">ubuntuå®ç”¨å·¥å…·ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2332" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2332"><a href="http://blog.fens.me/series-r-nosql/">Råˆ©å‰‘NoSQLç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2334" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2334"><a href="http://blog.fens.me/series-mongodb/">MongoDBéƒ¨ç½²å®éªŒç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2335" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2335"><a href="http://blog.fens.me/series-hadoop-cloud/">è®©Hadoopè·‘åœ¨äº‘ç«¯ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2333"><a href="http://blog.fens.me/series-vps/">è‡ªå·±æ­å»ºVPSç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-5469" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5469"><a href="http://blog.fens.me/series-architect/">æ¶æ„å¸ˆçš„ä¿¡ä»°ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="http://blog.fens.me/series-algorithm/">ç®—æ³•ä¸ºç‹ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-8189" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8189"><a href="http://blog.fens.me/series-seo/">æˆ‘çš„åšå®¢æˆ‘çš„SEOç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2340" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2340"><a href="http://blog.fens.me/series-visualisation/">åˆ›é€ å¯è§†åŒ–ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-7694" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7694"><a href="http://blog.fens.me/series-startup/">åˆ›ä¸šè€…çš„å›§å¢ƒç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-8842" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8842"><a href="http://blog.fens.me/tasks/">å†™ä½œè®¡åˆ’åˆ—è¡¨</a></li>
<li id="menu-item-2342" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2342"><a href="http://blog.fens.me/about/">å…³äºç«™é•¿</a></li>
<li id="menu-item-8175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8175"><a href="http://blog.fens.me/ad/">æŠ•æ”¾å¹¿å‘Š</a></li>
</ul></div></li><li id="widget_recent_comments" class="widget png_scale"><h2 class="blocktitle"><span>æœ€æ–°è¯„è®º</span></h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">Rachel Wijaya</span> on <a href="http://blog.fens.me/hexo-blog-github/#comment-5579">Hexoåœ¨githubä¸Šæ„å»ºå…è´¹çš„Webåº”ç”¨</a></li><li class="recentcomments"><span class="comment-author-link">Vincent</span> on <a href="http://blog.fens.me/hadoop-mapreduce-matrix/#comment-5576">ç”¨MapReduceå®ç°çŸ©é˜µä¹˜æ³•</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://www.flyfishonline.com/' rel='external nofollow' class='url'>BabyGo</a></span> on <a href="http://blog.fens.me/r-docker/#comment-5572">å½“Rè¯­è¨€é‡ä¸ŠDocker</a></li><li class="recentcomments"><span class="comment-author-link">xp Wan</span> on <a href="http://blog.fens.me/linux-mysql-install/#comment-5571">åœ¨Ubuntuä¸­å®‰è£…MySQL</a></li><li class="recentcomments"><span class="comment-author-link">Kang Ji</span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5566">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/' rel='external nofollow' class='url'>Conan Zhang</a></span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5565">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link">å”åœ‹æ·¯</span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5559">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/architect-next/' rel='external nofollow' class='url'>æŠ€æœ¯å¤§ç‰›å¦‚ä½•å¯»æ‰¾ä¸‹ä¸€ä¸ªé£å£ | ç²‰ä¸æ—¥å¿—</a></span> on <a href="http://blog.fens.me/series-architect/#comment-5534">æ¶æ„å¸ˆçš„ä¿¡ä»°ç³»åˆ—æ–‡ç« </a></li><li class="recentcomments"><span class="comment-author-link">æ¨ä¿Šæ—</span> on <a href="http://blog.fens.me/nodejs-email-nodemailer/#comment-5526">Nodejså‘é‚®ä»¶ç»„ä»¶Nodemailer</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/' rel='external nofollow' class='url'>Conan Zhang</a></span> on <a href="http://blog.fens.me/nodejs-core-domain/#comment-5520">Nodejså¼‚æ­¥å¼‚å¸¸å¤„ç†domain</a></li><li class="recentcomments"><span class="comment-author-link">Sam Hu</span> on <a href="http://blog.fens.me/nodejs-core-domain/#comment-5517">Nodejså¼‚æ­¥å¼‚å¸¸å¤„ç†domain</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://github.com/lgh06' rel='external nofollow' class='url'>HapLeo</a></span> on <a href="http://blog.fens.me/startup-registration/#comment-5512">æ–°å…¬å¸æ³¨å†Œæµç¨‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://github.com/lgh06' rel='external nofollow' class='url'>HapLeo</a></span> on <a href="http://blog.fens.me/series-it-finance/#comment-5511">ç”¨ITæŠ€æœ¯ç©é‡‘èç³»åˆ—æ–‡ç« </a></li><li class="recentcomments"><span class="comment-author-link">æ¨é•‡é“­</span> on <a href="http://blog.fens.me/r-multi-linear-regression/#comment-5508">Rè¯­è¨€è§£è¯»å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://blog.fens.me/' rel='external nofollow' class='url'>Conan Zhang</a></span> on <a href="http://blog.fens.me/r-apply/#comment-5507">æŒæ¡Rè¯­è¨€ä¸­çš„applyå‡½æ•°æ—</a></li></ul></li>		<li id="widget_recent_entries" class="widget png_scale">		<h2 class="blocktitle"><span>æœ€æ–°æ–‡ç« </span></h2>		<ul>
					<li>
				<a href="http://blog.fens.me/architect-next/">æŠ€æœ¯å¤§ç‰›å¦‚ä½•å¯»æ‰¾ä¸‹ä¸€ä¸ªé£å£</a>
						</li>
					<li>
				<a href="http://blog.fens.me/architect-algorithm/">ç®—æ³•ï¼Œå¦‚ä½•æ”¹å˜å‘½è¿</a>
						</li>
					<li>
				<a href="http://blog.fens.me/angular2-init/">Angular2æ–°çš„ä½“éªŒ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/finance-capm/">Rè¯­è¨€è§£è¯»èµ„æœ¬èµ„äº§å®šä»·æ¨¡å‹CAPM</a>
						</li>
					<li>
				<a href="http://blog.fens.me/finance-mojie/">ç”¨æ•°æ®è§£è¯»æ‘©ç¾¯æ™ºæŠ•</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-softcon-20161210/">2016ä¸­å›½è½¯ä»¶æŠ€æœ¯å¤§ä¼š:ç”¨Rè¯­è¨€è¿›è¡ŒæŠ•èµ„ç»„åˆç®¡ç†</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-iais-20161125/">2016IAISäººå·¥æ™ºèƒ½äº§ä¸šè®ºå›:ç”¨Rè¯­è¨€è¿›è¡ŒæŠ•èµ„ç»„åˆç®¡ç†</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-cdas-20160903/">2016CDASä¸­å›½æ•°æ®åˆ†æå¸ˆè¡Œä¸šå³°ä¼š:å¦‚ä½•ç”¨Rè¯­è¨€è¿›è¡Œé‡åŒ–åˆ†æ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-docker/">å½“Rè¯­è¨€é‡ä¸ŠDocker</a>
						</li>
					<li>
				<a href="http://blog.fens.me/linux-docker-install/">åœ¨Ubuntuä¸­å®‰è£…Docker</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-ar/">Rè¯­è¨€è§£è¯»è‡ªå›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-quant-packages/">Rè¯­è¨€é‡åŒ–æŠ•èµ„å¸¸ç”¨åŒ…æ€»ç»“</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-cpp-rcpp/">Rè¯­è¨€è·¨ç•Œè°ƒç”¨C++</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-multi-linear-regression/">Rè¯­è¨€è§£è¯»å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-linear-regression/">Rè¯­è¨€è§£è¯»ä¸€å…ƒçº¿æ€§å›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-word-jiebar/">Rè¯­è¨€ä¸­æ–‡åˆ†è¯åŒ…jiebaR</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-hellobi-20160701/">2016å¤©å–„æ™ºèƒ½äº¤æµä¼šç¬¬22åœº: Rè¯­è¨€ä¸ºé‡åŒ–è€Œç”Ÿ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-finance/">Rè¯­è¨€ä¸ºé‡åŒ–è€Œç”Ÿ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-data-table/">è¶…é«˜æ€§èƒ½æ•°æ®å¤„ç†åŒ…data.table</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-apply/">æŒæ¡Rè¯­è¨€ä¸­çš„applyå‡½æ•°æ—</a>
						</li>
				</ul>
		</li>		 
</ul></div>
<div class="clear"></div>

<div id="footer">
<div class="lt">Copyright &copy; 2017 All rights reserved.</div>
<div class="rt">Designed by <img src="http://blog.fens.me/wp-content/themes/silesia/images/natty-logo.png" width="82" height="17" valign="3px" class="png" alt="NattyWP" align="middle" /></div>		
<div class="clear"></div>			
</div>
    
</div>  
<div class="clear"></div>
</div><!-- END main wrapper -->

        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'bsspirit';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1 && nodes[i].parentNode.tagName == 'A') {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type="text/javascript" src="http://www.fens.me/js/google.js"></script>
<script type="text/javascript" src="http://www.fens.me/js/baidu.js"></script><script type="text/javascript" charset="utf-8">/*<![CDATA[*/ 
    jQuery(document).ready(function() {
        jQuery(".slideshow").cycle({
          fx: "turnDown",
          timeout: 6000,
          speed: 1000,
          prev: "#left-arrow",
          next: "#right-arrow",
          pagerEvent: "click",
          pauseOnPagerHover: true,
          cleartypeNoBg: true });						
      });
      /*]]>*/</script><script type='text/javascript' src='http://blog.fens.me/wp-includes/js/comment-reply.min.js?ver=4.7.4'></script>
<script type='text/javascript' src='http://blog.fens.me/wp-includes/js/wp-embed.min.js?ver=4.7.4'></script>
 
<script type="text/javascript" src="http://www.fens.me/js/ads.js"></script>
<script type="text/javascript" src="http://www.fens.me/js/google.js"></script>
<script type="text/javascript" src="http://www.fens.me/js/baidu.js"></script>

</body>
</html>